Datos_solicitud_contraparte_internacional As screen:
    Fill: =RGBA(235, 238, 251, 1)
    OnVisible: |-
        =UpdateContext({sin_nombre_entidad:false});
        UpdateContext({sin_pais_entidad:false});
        //UpdateContext({sin_documento:false});
        If(nueva_solicitud_contraparte,
            UpdateContext({mostrar_lista_archivos:false});
            Set(existe_adjunto, false);
        
        ,
            UpdateContext({mostrar_lista_archivos:true})
        );
        Set(existe_adjunto, true);
        Set(num_max_doc_contr,1-CountRows(lista_doc_contr_subidos));
        Set(tab_seleccionada, 3);
        Set(popup_confirmacion,false);

    Botones_atras_siguiente_10 As groupContainer.manualLayoutContainer:
        Height: =44
        Width: =1286
        X: =40
        Y: =696
        ZIndex: =1

        Siguiente_10 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: =
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Text: ="SIGUIENTE"
            Visible: =false
            X: =1124
            Y: =2
            ZIndex: =1

        Atrás_10 As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: |
                =If(!IsBlank(id_contraparte),
                    'Convenio-PAEliminarcontrapartenoregistrada'.Run(id_contraparte)
                );
                Navigate(Entidad_contraparte,ScreenTransition.Fade);
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =
            Text: ="ATRÁS"
            X: =2
            Y: =2
            ZIndex: =3

        Guardar_4 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Normal
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =If(CountRows(Split(Trim(nombre_solicitud_unidad_contraparte_in_input.Text),""))=0,UpdateContext({sin_nombre_entidad:true}),UpdateContext({sin_nombre_entidad:false}));
                
                If(IsBlank(pais.Selected),UpdateContext({sin_pais_entidad:true}),UpdateContext({sin_pais_entidad:false}));
                
                If(!sin_nombre_entidad && !sin_pais_entidad,
                    Set(popup_confirmacion,true);
                
                );
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =-1
            Text: ="ENVIAR"
            X: =1124
            Y: =2
            ZIndex: =4

    Datos_solicitud_entidad_contraparte_in As groupContainer.manualLayoutContainer:
        Height: =584
        Width: =1366
        Y: =96
        ZIndex: =2

        Contenedor_s_e_c_in As groupContainer.manualLayoutContainer:
            Height: =488
            Width: =1282
            X: =42
            Y: =96
            ZIndex: =1

            fondo_blanco_17 As image:
                Height: =488
                Image: ='background-section'
                ImagePosition: =ImagePosition.Fill
                RadiusBottomLeft: =24
                RadiusBottomRight: =24
                RadiusTopLeft: =24
                RadiusTopRight: =24
                Width: =1282
                ZIndex: =1

            Adjuntar_documentacion_sin As groupContainer.manualLayoutContainer:
                Height: =140
                Width: =584
                X: =42
                Y: =108
                ZIndex: =2

                sin_documentacion_sin As text:
                    BorderColor: =RGBA(238, 110, 126, 1)
                    Default: =""
                    DisabledBorderColor: =RGBA(238, 110, 126, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =fondo_registro_4.Height+1
                    HoverBorderColor: =RGBA(238, 110, 126, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    RadiusBottomLeft: =12
                    RadiusBottomRight: =12
                    RadiusTopLeft: =12
                    RadiusTopRight: =12
                    TabIndex: =-1
                    Visible: =false
                    Width: =fondo_registro_4.Width+1
                    X: =fondo_registro_4.X
                    Y: =fondo_registro_4.Y
                    ZIndex: =1

                img_subir_4 As image:
                    Height: =20
                    Image: =If(existe_adjunto && mostrar_lista_archivos,attach,upload)
                    Visible: =false
                    Width: =20
                    X: =163
                    Y: =103
                    ZIndex: =3

                btn_adjuntar_4 As button:
                    BorderStyle: =BorderStyle.None
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =20
                    HoverFill: =RGBA(255,255,255,0)
                    OnSelect: |-
                        =UpdateContext({show_popup_documentacion: true})
                    PressedFill: =RGBA(255,255,255,0)
                    RadiusBottomLeft: =50
                    RadiusBottomRight: =50
                    RadiusTopLeft: =50
                    RadiusTopRight: =50
                    TabIndex: =1
                    Text: =""
                    Visible: =false
                    Width: =20
                    X: =163
                    Y: =103
                    ZIndex: =4

                adjuntar_documentacion_sin_label As label:
                    Color: =RGBA(111, 139, 167, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =20
                    PaddingBottom: =4
                    PaddingLeft: =12
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10
                    Text: ="DOCUMENTACIÓN"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =584
                    ZIndex: =5

                "Gallery1_4 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
                    Height: =89
                    Items: =lista_doc_contr_subidos
                    Layout: =Layout.Vertical
                    TemplatePadding: =0
                    TemplateSize: =30
                    Width: =584
                    Y: =51
                    ZIndex: =6

                    fondo_registro_4 As image:
                        Height: =25
                        Image: =If(id_estado=13,fondo_deshabilitado,'background-input')
                        ImagePosition: =ImagePosition.Fill
                        RadiusBottomLeft: =12
                        RadiusBottomRight: =12
                        RadiusTopLeft: =12
                        RadiusTopRight: =12
                        Width: =584
                        ZIndex: =1

                    Title1_4 As label:
                        Color: =RGBA(17, 61, 107, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =25
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10
                        Text: =Upper(ThisItem.file.Name)
                        Width: =515
                        Wrap: =false
                        X: =34
                        ZIndex: =2

                    Icon2_1 As icon.Document:
                        Color: =RGBA(17, 61, 107, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                        Height: =20
                        Icon: =Icon.Document
                        OnSelect: =Select(Parent)
                        Width: =34
                        Y: =3
                        ZIndex: =3

                    Icon2_2 As icon.Document:
                        Color: =RGBA(17, 61, 107, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 0.4)
                        DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                        Height: =20
                        Icon: =Icon.Cancel
                        OnSelect: |-
                            ='Convenio-PAEliminaradjuntocontrapartenoregistrada'.Run(
                                id_contraparte,
                                ThisItem.id_adjunto
                            );
                            Remove(lista_doc_contr_subidos,ThisItem);
                            Set(num_max_doc_contr,1 - CountRows(lista_doc_contr_subidos));
                        Width: =34
                        X: =550
                        Y: =3
                        ZIndex: =4

                    btn_abrir_adjunto_1 As button:
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =1
                        Fill: =RGBA(0, 0, 0, 0)
                        FontWeight: =FontWeight.Normal
                        Height: =25
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverFill: =RGBA(207, 210, 232, 0.4)
                        OnSelect: =Launch(ThisItem.file.Value)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(207, 210, 232, 0.4)
                        RadiusBottomLeft: =50
                        RadiusBottomRight: =50
                        RadiusTopLeft: =50
                        RadiusTopRight: =50
                        Size: =20
                        TabIndex: =
                        Text: =""
                        Visible: =If(IsBlank(ThisItem.file.Name),false,true)
                        Width: =549
                        ZIndex: =5

                btn_adjuntar_doc As button:
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =1
                    DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                    Fill: =RGBA(139, 195, 74, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =20
                    HoverBorderColor: =RGBA(139, 195, 74, 1)
                    HoverFill: =RGBA(139, 195, 74, 0.4)
                    OnSelect: |-
                        =UpdateContext({show_popup_documentacion: true})
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(95, 160, 20, 1)
                    RadiusBottomLeft: =50
                    RadiusBottomRight: =50
                    RadiusTopLeft: =50
                    RadiusTopRight: =50
                    TabIndex: =
                    Text: ="+"
                    Width: =20
                    X: =143
                    ZIndex: =7

                formatos_permitidos_lb_5 As label:
                    Color: =RGBA(111, 139, 167, 1)
                    Height: =20
                    Italic: =true
                    PaddingLeft: =12
                    Size: =10
                    Text: |-
                        ="Número máximo de archivos: 1"
                    Width: =261
                    Y: =20
                    ZIndex: =8

            Nombre_solicitud_unidad_contraparte_in As groupContainer.manualLayoutContainer:
                Height: =70
                Width: =881
                X: =42
                Y: =24
                ZIndex: =5

                sin_nombre_solicitud_cin_1 As text:
                    BorderColor: =RGBA(238, 110, 126, 1)
                    Default: =""
                    DisabledBorderColor: =RGBA(238, 110, 126, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    HoverBorderColor: =RGBA(238, 110, 126, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    RadiusBottomLeft: =12
                    RadiusBottomRight: =12
                    RadiusTopLeft: =12
                    RadiusTopRight: =12
                    TabIndex: =-1
                    Visible: =If((Len(nombre_solicitud_unidad_contraparte_in_input.Text)=0 || CountRows(Split(Trim(nombre_solicitud_unidad_contraparte_in_input.Text),""))=0) && sin_nombre_entidad,true,false)
                    Width: =871
                    X: =2
                    Y: =20
                    ZIndex: =1

                nombre_solicitud_unidad_contraparte_in_input As text:
                    BorderColor: =RGBA(255, 255, 255, 1)
                    BorderThickness: =0
                    Color: =RGBA(17, 61, 107, 1)
                    Default: =If(nueva_solicitud_contraparte,contraparte_s.nombre,contraparte.nombre)
                    DisabledColor: =RGBA(111, 139, 167, 1)
                    DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                    Fill: =RGBA(241, 244, 255, 1)
                    FocusedBorderThickness: =0
                    Height: =38
                    HintText: =""
                    HoverBorderColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =RGBA(241, 244, 255, 1)
                    MaxLength: =150
                    PaddingBottom: =12
                    PaddingLeft: =24
                    PaddingRight: =24
                    PaddingTop: =12
                    RadiusBottomLeft: =12
                    RadiusBottomRight: =12
                    RadiusTopLeft: =12
                    RadiusTopRight: =12
                    Size: =14
                    TabIndex: =
                    Width: =868
                    X: =3
                    Y: =21
                    ZIndex: =2

                nombre_solicitud_unidad_contraparte_na_label_1 As label:
                    Color: =RGBA(111, 139, 167, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =20
                    PaddingBottom: =4
                    PaddingLeft: =12
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10
                    Text: ="NOMBRE ENTIDAD CONTRAPARTE*"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =300
                    ZIndex: =3

            Contenedor_pais As groupContainer.manualLayoutContainer:
                Height: =80
                Width: =301
                X: =941
                Y: =24
                ZIndex: =6

                Contenedor_seleccionar_pais As groupContainer.manualLayoutContainer:
                    Height: =54
                    Width: =310
                    Y: =13
                    ZIndex: =1

                    fondo_celeste_7 As image:
                        BorderColor: =RGBA(255, 255, 255, 1)
                        Height: =40
                        HoverFill: =RGBA(186, 202, 226, 1)
                        Image: =If(id_estado=13,fondo_deshabilitado,'background-input')
                        ImagePosition: =ImagePosition.Fill
                        RadiusBottomLeft: =12
                        RadiusBottomRight: =12
                        RadiusTopLeft: =12
                        RadiusTopRight: =12
                        Width: =284
                        X: =8
                        Y: =4
                        ZIndex: =1

                    sin_pais As text:
                        BorderColor: =RGBA(238, 110, 126, 1)
                        Default: =""
                        DisabledBorderColor: =RGBA(238, 110, 126, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        DisplayMode: =DisplayMode.Disabled
                        Fill: =RGBA(0, 0, 0, 0)
                        HoverBorderColor: =RGBA(238, 110, 126, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =12
                        RadiusBottomRight: =12
                        RadiusTopLeft: =12
                        RadiusTopRight: =12
                        TabIndex: =-1
                        Visible: =If(IsBlank(pais) && sin_pais_entidad,true,false)
                        Width: =284
                        X: =8
                        Y: =6
                        ZIndex: =2

                    pais As dropdown:
                        AllowEmptySelection: =true
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =0
                        ChevronBackground: =RGBA(241, 244, 255, 1)
                        ChevronFill: =RGBA(111, 139, 167, 1)
                        ChevronHoverBackground: =RGBA(241, 244, 255, 1)
                        ChevronHoverFill: =RGBA(17, 61, 107, 1)
                        Color: =RGBA(17, 61, 107, 1)
                        Default: |-
                            =//"1"
                            If(nueva_solicitud_contraparte,contraparte_s.pais,contraparte.pais)
                        DisabledColor: =RGBA(111, 139, 167, 1)
                        DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                        Fill: =RGBA(241, 244, 255, 1)
                        FocusedBorderThickness: =0
                        Height: =38
                        HoverBorderColor: =RGBA(241,244,255,1)
                        HoverColor: =RGBA(17, 61, 107, 1)
                        HoverFill: =RGBA(207, 210, 232, 1)
                        Items: |-
                            =//lista_alcance
                            lista_paises
                        OnChange: =Reset(buscador_pais_input)
                        PaddingBottom: =12
                        PaddingLeft: =12
                        PaddingTop: =12
                        PressedColor: =RGBA(17, 61, 107, 1)
                        PressedFill: =RGBA(241, 244, 255, 1)
                        SelectionColor: =RGBA(111, 139, 167, 1)
                        SelectionFill: =RGBA(241, 244, 255, 1)
                        Size: =14
                        TabIndex: =
                        Width: =fondo_celeste_7.Width-24
                        X: =fondo_celeste_7.X+12
                        Y: =fondo_celeste_7.Y+3
                        ZIndex: =3

                    tapar_pais As rectangle:
                        BorderStyle: =BorderStyle.None
                        Fill: =RGBA(244, 244, 244, 1)
                        Height: =40
                        Visible: =false
                        Width: =40
                        X: =pais.X+pais.Width-Self.Width+1
                        Y: |
                            =5
                        ZIndex: =4

                    buscador_pais_input As text:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderThickness: =0
                        Color: |-
                            =//RGBA(17; 61; 107; 1)
                            //If(CountRows(Filter(lista_tipologia; TextInput1.Text in valor))>0;RGBA(0;0;0;0);RGBA(17; 61; 107; 1))
                            RGBA(17, 61, 107, 1)
                        Default: =""
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        DisabledColor: =RGBA(17, 61, 107, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        DisplayMode: =DisplayMode.Disabled
                        Fill: =RGBA(0, 0, 0, 0)
                        HintText: =If(IsBlank(pais.SelectedText),"Seleccionar...","")
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverColor: |-
                            =//RGBA(17; 61; 107; 1)
                            //If(CountRows(Filter(lista_tipologia; TextInput1.Text in valor))>0;RGBA(0;0;0;0);RGBA(17; 61; 107; 1))
                            RGBA(17, 61, 107, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        OnChange: =
                        OnSelect: |-
                            =Reset(pais);
                            Reset(buscador_pais_input)
                        PaddingBottom: =1
                        PaddingLeft: =24
                        PaddingRight: =10
                        PaddingTop: =0
                        Size: =14
                        Width: =250
                        X: =12
                        Y: =5
                        ZIndex: =5

                pais_lb As label:
                    Color: =RGBA(111, 139, 167, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =20
                    PaddingBottom: =4
                    PaddingLeft: =12
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10
                    Text: ="PAÍS*"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =300
                    ZIndex: =2

        datos_solicitud_entidad_contraparte_in As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Height: =96
            PaddingBottom: =34
            PaddingLeft: =42
            PaddingRight: =0
            PaddingTop: =42
            Size: =20
            Text: ="Solicitud de ingreso entidad contraparte internacional"
            Width: =1366
            ZIndex: =2

    BannerUdeC_10 As HeaderUdeC:
        Bienvenido: =If(persona_solicitante.sexo_social="F","Bienvenida,","Bienvenido,")
        Subtitulo: ="VINCULACIÓN CON EL MEDIO"
        Titulo: ="Solicitud de Tramitación de Convenios"
        ZIndex: =4

    lbl_faltan_datos_12 As label:
        Align: =Align.Right
        Color: =RGBA(238, 110, 126, 1)
        FontWeight: =FontWeight.Bold
        Height: =20
        PaddingRight: =90
        Text: ="Debe completar los campos faltantes."
        Visible: =If((Len(nombre_solicitud_unidad_contraparte_in_input.Text)=0 || CountRows(Split(Trim(nombre_solicitud_unidad_contraparte_in_input.Text),""))=0 || IsBlank(pais)) && (sin_nombre_entidad && sin_pais_entidad),true,false)
        Width: =676
        X: =690
        Y: =657
        ZIndex: =6

    lbl_campo_obligatorio_4 As label:
        Color: =RGBA(17, 61, 107, 1)
        FontWeight: =FontWeight.Semibold
        Height: =20
        PaddingLeft: =45
        Size: =11
        Text: ="*Campo obligatorio"
        Width: =856
        X: =45
        Y: =657
        ZIndex: =7

    Adjuntar_popup_documentacion_sin As groupContainer.manualLayoutContainer:
        Height: =Datos_convenio.Height
        Visible: =show_popup_documentacion
        Width: =Datos_convenio.Width
        ZIndex: =8

        fig_registro_10_popup_bg_3 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Width: =1366
            ZIndex: =1

        img_registro_10_popup_bg_3 As image:
            Height: =352
            Image: ='background-section'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =24
            RadiusBottomRight: =24
            RadiusTopLeft: =24
            RadiusTopRight: =24
            Width: =709
            X: =328
            Y: =208
            ZIndex: =2

        lbl_registro_10_popup_titulo_3 As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            PaddingLeft: =0
            Size: =18
            Text: ="Adjuntar documentación"
            Width: =400
            X: =360
            Y: =238
            ZIndex: =3

        btn_registro_10_popup_guardar_3 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =If(CountRows(att_attach_doc_sin.Attachments) > 0,  
                    Set(attachment_extension,Last(ForAll(Split(First(att_attach_doc_sin.Attachments).Name,"."), {Result: ThisRecord.Value})).Result);
                    If(attachment_extension="jpg" || attachment_extension="jpeg" || attachment_extension="pdf" ||
                        attachment_extension="doc" || attachment_extension="docx" ||
                        attachment_extension="xls" || attachment_extension="xlsx",
                        
                        //Set(existe_adjunto; true);;
                        UpdateContext({archivo_invalido:false});
                        
                        //GUARDA EL CONTENIDO DEL ARCHIVO CARGADO
                        //Set(Contenido_doc_sin;att_attach_doc_sin.Attachments);;
                        Set(cargando, true);
                        If(IsBlank(id_contraparte),
                            Set(id_contraparte,
                            'Convenio-PACrearsolicitudcontrapartenoregistrada'.Run(id_convenio).id_contraparte)
                        );
                
                        Set(doc_contraparte,{
                            file:{//doc1
                                name: First(att_attach_doc_sin.Attachments).Name,
                                contentBytes: First(att_attach_doc_sin.Attachments).Value
                            }
                        });
                
                        Set(documento_contraparte_subido,
                            'Convenio-PAGuardaradjuntocontrapartenoregistrada'.Run(
                                id_contraparte,
                                id_convenio,
                                doc_contraparte
                            )
                        );
                
                        Collect(lista_doc_contr_subidos,{
                            file: documento_contraparte_subido.file,
                            id_adjunto: documento_contraparte_subido.id_adjunto
                        });
                
                        Set(cargando, false);
                
                        Reset(att_attach_doc_sin);
                        Set(num_max_doc_contr,1 - CountRows(lista_doc_contr_subidos));
                
                        UpdateContext({show_popup_documentacion: false});
                        UpdateContext({mostrar_lista_archivos:true});
                        ,
                        //Set(existe_adjunto; false);;
                        UpdateContext({archivo_invalido:true})
                    )
                ,
                    Set(existe_adjunto, false);
                    //Set(Contenido_doc_sin;Blank());;
                    UpdateContext({archivo_invalido:false});
                    UpdateContext({show_popup_documentacion: false})
                );
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Text: ="ACEPTAR"
            X: =845
            Y: =490
            ZIndex: =4

        btn_registro_10_popup_cancelar_3 As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: |-
                =//UpdateContext({sacar_archivo_oficial:true});;
                UpdateContext({show_popup_documentacion: false});
                //UpdateContext({sacar_archivo_oficial:false});;
                Reset(att_attach_doc_sin);
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            Text: ="CANCELAR"
            X: =655
            Y: =490
            ZIndex: =5

        img_registro_10_popup_3 As image:
            Height: =94
            Image: ='background-input'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Width: =645
            X: =360
            Y: =326
            ZIndex: =6

        att_attach_doc_sin As attachments:
            AddAttachmentText: ="Adjuntar archivo (tamaño máximo 10 MB)"
            BorderColor: =
            BorderStyle: =BorderStyle.None
            Color: =RGBA(111, 139, 167, 1)
            Default: =//If(!nueva_solicitud_contraparte;First(contraparte.doc))
            DropTargetBackgroundColor: =RGBA(0, 0, 0, 0)
            DropTargetBorderStyle: =BorderStyle.None
            DropTargetTextColor: =RGBA(111, 139, 167, 1)
            Fill: =RGBA(255, 255, 255, 0)
            Height: =94
            HoverColor: =RGBA(111, 139, 167, 1)
            IsInDataCard: =true
            Items: =//If(!nueva_solicitud_contraparte;contraparte.file)
            MaxAttachments: =num_max_doc_contr
            MaxAttachmentsText: ="Se ha alcanzado la cantidad máxima de archivos."
            NoAttachmentsText: ="No hay ningún archivo adjunto."
            OnRemoveFile: |-
                =UpdateContext({archivo_invalido:false})
            PaddingBottom: =5
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            PaddingRight: =5
            PaddingTop: =5
            PressedFill: =RGBA(111, 139, 167, 1)
            Size: =10
            TabIndex: =1
            Tooltip: =
            Width: =645
            X: =360
            Y: =324
            ZIndex: =7

        lbl_registro_10_faltandatos_4 As label:
            Align: =Align.Center
            Color: =RGBA(238, 110, 126, 1)
            FontWeight: =FontWeight.Bold
            Height: =72
            Size: =11
            Text: ="Tipo de archivo no permitido"
            Visible: =archivo_invalido
            Width: =img_registro_10_popup_bg_3.Width
            X: =img_registro_10_popup_bg_3.X
            Y: =btn_registro_10_popup_cancelar_3.Y-Self.Height
            ZIndex: =8

        formatos_permitidos_lb_1 As label:
            Color: =RGBA(111, 139, 167, 1)
            Height: =20
            Italic: =true
            Size: =10
            Text: |-
                ="Formatos permitidos: jpg, jpeg, pdf, doc, docx, xls, xlsx"
            Width: =455
            X: =360
            Y: =418
            ZIndex: =9

    cont_loading_8 As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =11

        fig_registro_5_bg_9 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Visible: =cargando
            Width: =1366
            ZIndex: =15

        img_loading_8 As image:
            Image: =loading
            Visible: =cargando
            X: =633
            Y: =334
            ZIndex: =16

    grp_registro_5_popup_2 As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =16

        fig_registro_5_popup_bg_6 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Visible: =popup_confirmacion
            Width: =1366
            ZIndex: =9

        img_registro_5_popup_bg_2 As image:
            Height: =352
            Image: ='background-section'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =24
            RadiusBottomRight: =24
            RadiusTopLeft: =24
            RadiusTopRight: =24
            Visible: =popup_confirmacion
            Width: =709
            X: =327
            Y: =208
            ZIndex: =10

        lbl_registro_popup_5_titulo_2 As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Size: =18
            Text: ="Confirmación"
            Visible: =popup_confirmacion
            Width: =412
            X: =359
            Y: =234
            ZIndex: =11

        lbl_registro_popup_5_correo_2 As label:
            Align: =Align.Center
            Color: =RGBA(17, 61, 107, 1)
            Height: =117
            Size: =14
            Text: ="Su solicitud será ingresada y no podrá ser modificada."
            Visible: =popup_confirmacion
            Width: =645
            X: =359
            Y: =314
            ZIndex: =12

        btn_registro_5_popup_enviar_1 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =Set(cargando, true);
                If(id_estado=1,Set(id_estado,4));//pasa a contraparte internacional solicitada
                If(id_estado=2,Set(id_estado,4));//pasa a contraparte internacional solicitada
                
                If(IsBlank(id_contraparte),
                    Set(id_contraparte,
                    'Convenio-PACrearsolicitudcontrapartenoregistrada'.Run(id_convenio).id_contraparte)
                );
                
                Set(nueva_contrapartes_no_registradas_in,'Convenio-PAGuardarcontrapartenoregistrada'.Run(
                                                        Upper(nombre_solicitud_unidad_contraparte_in_input.Text),
                                                        pais.Selected.pais,
                                                        id_convenio,
                                                        id_estado,
                                                        id_contraparte
                ));
                
                Set(id_estado,nueva_contrapartes_no_registradas_in.id_estado);
                
                Collect(solicitudes_añadir_contraparte,{
                    id_contraparte: id_contraparte,
                    nombre: Upper(nombre_solicitud_unidad_contraparte_in_input.Text),
                    pais: pais.Selected.pais,
                    estado: "En espera",
                    file: First(lista_doc_contr_subidos).file
                });
                
                Set(cargando, false);
                Set(popup_confirmacion,false);
                
                Navigate(Entidad_contraparte,ScreenTransition.Fade);
                //
                
                
                
                //Navigate(Mostar_solicitudes;ScreenTransition.Fade);;
                //Set(cargando;false);;
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(popup_confirmacion,1,-1)
            Text: ="ACEPTAR"
            Visible: =popup_confirmacion
            X: =844
            Y: =488
            ZIndex: =13

        btn_registro_5_popup_atras_2 As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: =Set(popup_confirmacion, false)
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(popup_confirmacion,0,-1)
            Text: ="CANCELAR"
            Visible: =popup_confirmacion
            X: =652
            Y: =488
            ZIndex: =14

