Datos_convenio As screen:
    Fill: =RGBA(235, 238, 251, 1)
    OnVisible: |-
        =UpdateContext({sin_alcance_territorial:false});
        UpdateContext({sin_tipologia:false});
        UpdateContext({sin_solicitud:false});
        UpdateContext({sin_modalidad:false});
        UpdateContext({sin_proposito_central:false});
        UpdateContext({sin_documentacion_oficial:false});
        UpdateContext({sin_documentacion_extra:false});
        UpdateContext({sacar_archivo_oficial:false});
        UpdateContext({mostrar_lista_archivos_oficiales:false});
        Set(num_max_doc_official,1-CountRows(lista_doc_off_subidos));
        Set(num_max_doc_extra,15 - CountRows(lista_doc_ext_subidos));
        UpdateContext({cambio_detectado:false});
        
        UpdateContext({popup_eliminar_oficial:false});
        Set(lista_documentos_popup_oficial, {});
        Set(nombre_documento_popup_oficial, "");
        
        UpdateContext({popup_eliminar_extra:false});
        Set(lista_documentos_popup_extra, {});
        Set(nombre_documento_popup_extra, "");

    Botones_atras_siguiente_1 As groupContainer.manualLayoutContainer:
        Height: =44
        Width: =1286
        X: =40
        Y: =696
        ZIndex: =1

        Siguiente_1 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |+
                =//ESPECIFICACIONES
                
                If(IsBlank(tipo_tipologia), UpdateContext({sin_tipologia:true}), UpdateContext({sin_tipologia:false}));
                If(IsBlank(tipo_solicitud), UpdateContext({sin_solicitud:true}), UpdateContext({sin_solicitud:false}));
                If(IsBlank(tipo_modalidades), UpdateContext({sin_modalidad:true}), UpdateContext({sin_modalidad:false}));
                
                //SIN PROPOSITO CENTRAL
                //Trim(descripcion_proposito_1.Text);
                If(CountRows(Split(Trim(descripcion_proposito_1.Text),""))=0, UpdateContext({sin_proposito_central:true}), UpdateContext({sin_proposito_central:false}));
                
                //SIN DOCUMENTO OFICIAL
                If(IsBlank(Gallery1_1), UpdateContext({sin_documentacion_oficial:true}), UpdateContext({sin_documentacion_oficial:false}));
                
                //SIN DOCUMENTACION EXTRA
                //If(IsBlank(Gallery1_2); UpdateContext({sin_documentacion_extra:true}); UpdateContext({sin_documentacion_extra:false}));;
                
                //CONDICION DE APROBACION
                If(!sin_tipologia && !sin_solicitud && !sin_modalidad && !sin_proposito_central && 
                    /*!sin_documentacion_extra &&*/ !sin_documentacion_oficial,
                
                
                    If(id_estado=2,Set(id_estado,9));//pasa a especificacion convenio registrada
                    If(id_estado=4,Set(id_estado,9));//pasa a especificacion convenio registrada
                    
                    If(cambio_detectado,
                    Set(cargando, true);
                    
                    Set(id_estado,'Convenio-PAGuardarespecificaciónconvenio'.Run(
                                                                            //tipo_tipologia.Selected.valor;
                                                                            //tipo_solicitud.Selected.valor;
                                                                            //tipo_modalidades.Selected.Value;
                                                                            descripcion_proposito_1.Text,
                                                                            id_convenio,
                                                                            id_estado,
                                                                            tipo_tipologia.Selected.valor,
                                                                            tipo_solicitud.Selected.valor,
                                                                            tipo_modalidades.Selected.valor
                    ).id_estado);
                    Set(guardado,true);
                    Set(cargando, false);
                    );
                
                    Navigate(Información_convenio,ScreenTransition.Fade);
                /*
                    If(reset_primera_vez_categoria_vrim;    
                        If(IsBlank(categoria_vrim_recuperada.convenio_de_tipo);Reset(convenio_tipo));;
                        If(IsBlank(categoria_vrim_recuperada.sector_politica);Reset(sector_politica));;
                        If(IsBlank(categoria_vrim_recuperada.ambito_politica);Reset(ambito_politica));;        
                
                        Set(reset_primera_vez_categoria_vrim;false)
                    );;
                */ 
                
                );
                
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Text: ="SIGUIENTE"
            X: =1124
            Y: =2
            ZIndex: =1

        Atrás_1 As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: =Navigate(Entidad_contraparte,ScreenTransition.Fade)
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =
            Text: ="ATRÁS"
            X: =2
            Y: =2
            ZIndex: =2

    Contenedor_datos_convenio As groupContainer.manualLayoutContainer:
        Height: =584
        Width: =1366
        Y: =96
        ZIndex: =2

        Contenedor_d_c_s As groupContainer.manualLayoutContainer:
            Height: =488
            Width: =1282
            X: =42
            Y: =96
            ZIndex: =2

            fondo_blanco_1 As image:
                Height: =488
                Image: ='background-section'
                ImagePosition: =ImagePosition.Fill
                RadiusBottomLeft: =24
                RadiusBottomRight: =24
                RadiusTopLeft: =24
                RadiusTopRight: =24
                Width: =1282
                ZIndex: =1

            Documentacion As groupContainer.manualLayoutContainer:
                Height: =270
                Width: =625
                X: =636
                ZIndex: =2

                Adjuntar_documento_oficial As groupContainer.manualLayoutContainer:
                    Height: =82
                    Width: =585
                    X: =25
                    Y: =62
                    ZIndex: =1

                    sin_documento_oficial As text:
                        BorderColor: =RGBA(238, 110, 126, 1)
                        Default: =""
                        DisabledBorderColor: =RGBA(238, 110, 126, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        DisplayMode: =DisplayMode.Disabled
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =38
                        HoverBorderColor: =RGBA(238, 110, 126, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =12
                        RadiusBottomRight: =12
                        RadiusTopLeft: =12
                        RadiusTopRight: =12
                        TabIndex: =-1
                        Visible: =If(IsBlank(Gallery1_1) && sin_documentacion_oficial, true, false)
                        Width: =fondo_registro_1.Width+1
                        X: =5
                        Y: =40
                        ZIndex: =1

                    img_subir_1 As image:
                        Height: =11
                        Image: =If(existe_adjunto && mostrar_lista_archivos_oficiales,attach,upload)
                        Visible: =false
                        Width: =23
                        X: =12
                        Y: =40
                        ZIndex: =3

                    btn_adjuntar_1 As button:
                        BorderStyle: =BorderStyle.None
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =11
                        HoverFill: =RGBA(255,255,255,0)
                        OnSelect: |-
                            =UpdateContext({show_popup_oficial: true})
                        PressedFill: =RGBA(255,255,255,0)
                        RadiusBottomLeft: =50
                        RadiusBottomRight: =50
                        RadiusTopLeft: =50
                        RadiusTopRight: =50
                        TabIndex: =1
                        Text: =""
                        Visible: =false
                        Width: =23
                        X: =12
                        Y: =40
                        ZIndex: =4

                    adjuntar_documento_label_1 As label:
                        Color: =RGBA(111, 139, 167, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =20
                        PaddingBottom: =4
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10
                        Text: ="BORRADOR CONVENIO*"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =274
                        ZIndex: =5

                    "Gallery1_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
                        Height: =30
                        Items: =lista_doc_off_subidos
                        Layout: =Layout.Vertical
                        TemplatePadding: =0
                        TemplateSize: =30
                        Width: =575
                        X: =5
                        Y: =44
                        ZIndex: =6

                        fondo_registro_1 As image:
                            Height: =25
                            Image: =If(id_estado>=13,fondo_deshabilitado,'background-input')
                            ImagePosition: =ImagePosition.Fill
                            RadiusBottomLeft: =12
                            RadiusBottomRight: =12
                            RadiusTopLeft: =12
                            RadiusTopRight: =12
                            Width: =575
                            ZIndex: =1

                        Title1_1 As label:
                            Color: =RGBA(17, 61, 107, 1)
                            FontWeight: =FontWeight.Bold
                            Height: =25
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10
                            Text: =Upper(ThisItem.file.Name)
                            Width: =507
                            Wrap: =false
                            X: =34
                            ZIndex: =2

                        Icon2_3 As icon.Document:
                            Color: =RGBA(17, 61, 107, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                            Height: =20
                            Icon: =Icon.Document
                            OnSelect: =Select(Parent)
                            Width: =34
                            Y: =3
                            ZIndex: =3

                        Icon2_4 As icon.Document:
                            Color: =RGBA(17, 61, 107, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisplayMode: =If(id_estado>=13,DisplayMode.Disabled,DisplayMode.Edit)
                            Height: =20
                            Icon: =Icon.Cancel
                            OnSelect: |
                                =Set(lista_documentos_popup_oficial, ThisItem);
                                Set(nombre_documento_popup_oficial, ThisItem.file.Name);
                                //Set(id_documento_popup_oficial; ThisItem.id);;
                                UpdateContext({popup_eliminar_oficial:true});
                                
                                /*Remove(lista_doc_off_subidos;ThisItem);;
                                Set(num_max_doc_official;1-CountRows(lista_doc_off_subidos));;
                                'Convenio-PAEliminardocumentoconvenio'.Run(
                                    ThisItem.file.Name
                                );;*/ 
                            Width: =34
                            X: =541
                            Y: =3
                            ZIndex: =4

                        btn_abrir_adjunto_2 As button:
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =1
                            Fill: =RGBA(0, 0, 0, 0)
                            FontWeight: =FontWeight.Normal
                            Height: =25
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverFill: =RGBA(207, 210, 232, 0.4)
                            OnSelect: =Launch(ThisItem.file.Value)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            PressedColor: =RGBA(255, 255, 255, 1)
                            PressedFill: =RGBA(207, 210, 232, 0.4)
                            RadiusBottomLeft: =50
                            RadiusBottomRight: =50
                            RadiusTopLeft: =50
                            RadiusTopRight: =50
                            Size: =20
                            TabIndex: =
                            Text: =""
                            Visible: =If(IsBlank(ThisItem.file.Name),false,true)
                            Width: =506
                            X: =34
                            ZIndex: =5

                    formatos_permitidos_lb_8 As label:
                        Color: =RGBA(111, 139, 167, 1)
                        Height: =20
                        Italic: =true
                        PaddingLeft: =12
                        Size: =10
                        Text: |-
                            ="Número máximo de archivos: 1"
                        Width: =261
                        Y: =20
                        ZIndex: =7

                    btn_adjuntar_doc_1 As button:
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =1
                        DisplayMode: =If(id_estado>=13,DisplayMode.Disabled,DisplayMode.Edit)
                        Fill: =RGBA(139, 195, 74, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =20
                        HoverBorderColor: =RGBA(139, 195, 74, 1)
                        HoverFill: =RGBA(139, 195, 74, 0.4)
                        OnSelect: |-
                            =UpdateContext({show_popup_oficial: true})
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(95, 160, 20, 1)
                        RadiusBottomLeft: =50
                        RadiusBottomRight: =50
                        RadiusTopLeft: =50
                        RadiusTopRight: =50
                        TabIndex: =
                        Text: ="+"
                        Width: =20
                        X: =213
                        ZIndex: =8

                documentacion As label:
                    Color: =RGBA(17, 61, 107, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =50
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =24
                    Size: =16
                    Text: ="Adjuntar documentación"
                    Width: =389
                    X: =25
                    ZIndex: =2

                Adjuntar_documento_extra As groupContainer.manualLayoutContainer:
                    Height: =113
                    Width: =605
                    X: =25
                    Y: =154
                    ZIndex: =3

                    sin_documento_extra As text:
                        BorderColor: =RGBA(238, 110, 126, 1)
                        Default: =""
                        DisabledBorderColor: =RGBA(238, 110, 126, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        DisplayMode: =DisplayMode.Disabled
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =120
                        HoverBorderColor: =RGBA(238, 110, 126, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =12
                        RadiusBottomRight: =12
                        RadiusTopLeft: =12
                        RadiusTopRight: =12
                        TabIndex: =-1
                        Visible: =If(IsBlank(Gallery1_2) && sin_documentacion_extra, true, false)
                        Width: =fondo_registro_2.Width+1
                        X: |
                            =5
                        Y: =20
                        ZIndex: =1

                    img_subir_2 As image:
                        Height: =22
                        Image: |
                            =If(existe_adjunto_extra,attach,upload)
                        Visible: =false
                        Width: =30
                        X: =312
                        ZIndex: =3

                    btn_adjuntar_2 As button:
                        BorderStyle: =BorderStyle.None
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =22
                        HoverFill: =RGBA(255,255,255,0)
                        OnSelect: |-
                            =UpdateContext({show_popup_extra: true})
                        PressedFill: =RGBA(255,255,255,0)
                        RadiusBottomLeft: =50
                        RadiusBottomRight: =50
                        RadiusTopLeft: =50
                        RadiusTopRight: =50
                        TabIndex: =1
                        Text: =""
                        Visible: =false
                        Width: =22
                        X: =312
                        ZIndex: =4

                    adjuntar_documento_label_2 As label:
                        Color: =RGBA(111, 139, 167, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =20
                        PaddingBottom: =4
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10
                        Text: ="DOCUMENTOS ADICIONALES"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =276
                        ZIndex: =5

                    "Gallery1_2 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
                        Height: =90
                        Items: =lista_doc_ext_subidos
                        Layout: =Layout.Vertical
                        TemplatePadding: =0
                        TemplateSize: =30
                        Width: =575
                        WrapCount: =0
                        X: =5
                        Y: =25
                        ZIndex: =6

                        fondo_registro_2 As image:
                            Height: =25
                            Image: =If(id_estado>=13,fondo_deshabilitado,'background-input')
                            ImagePosition: =ImagePosition.Fill
                            RadiusBottomLeft: =12
                            RadiusBottomRight: =12
                            RadiusTopLeft: =12
                            RadiusTopRight: =12
                            Width: =575
                            ZIndex: =1

                        Title1_2 As label:
                            Color: =RGBA(17, 61, 107, 1)
                            FontWeight: =FontWeight.Bold
                            Height: =25
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10
                            Text: =Upper(ThisItem.file.Name)
                            Width: =507
                            Wrap: =false
                            X: =34
                            ZIndex: =2

                        Icon2_5 As icon.Document:
                            Color: =RGBA(17, 61, 107, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                            Height: =20
                            Icon: =Icon.Document
                            OnSelect: =Select(Parent)
                            Width: =34
                            Y: =3
                            ZIndex: =3

                        Icon2_6 As icon.Document:
                            Color: =RGBA(17, 61, 107, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisplayMode: =If(id_estado>=13,DisplayMode.Disabled,DisplayMode.Edit)
                            Height: =20
                            Icon: =Icon.Cancel
                            OnSelect: |-
                                =Set(lista_documentos_popup_extra, ThisItem);
                                Set(nombre_documento_popup_extra, ThisItem.file.Name);
                                UpdateContext({popup_eliminar_extra:true});
                                /*
                                Remove(lista_doc_ext_subidos;ThisItem);;
                                Set(num_max_doc_extra;1-CountRows(lista_doc_ext_subidos));;
                                'Convenio-PAEliminardocumentoconvenio'.Run(
                                    ThisItem.file.Name
                                );;
                                */
                            Width: =34
                            X: =541
                            Y: =3
                            ZIndex: =4

                        btn_abrir_adjunto_3 As button:
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =1
                            Fill: =RGBA(0, 0, 0, 0)
                            FontWeight: =FontWeight.Normal
                            Height: =25
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverFill: =RGBA(207, 210, 232, 0.4)
                            OnSelect: =Launch(ThisItem.file.Value)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            PressedColor: =RGBA(255, 255, 255, 1)
                            PressedFill: =RGBA(207, 210, 232, 0.4)
                            RadiusBottomLeft: =50
                            RadiusBottomRight: =50
                            RadiusTopLeft: =50
                            RadiusTopRight: =50
                            Size: =20
                            TabIndex: =
                            Text: =""
                            Visible: =If(IsBlank(ThisItem.file.Name),false,true)
                            Width: =506
                            X: =34
                            ZIndex: =5

                    btn_adjuntar_doc_2 As button:
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =1
                        DisplayMode: =If(id_estado>=13,DisplayMode.Disabled,DisplayMode.Edit)
                        Fill: =RGBA(139, 195, 74, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =20
                        HoverBorderColor: =RGBA(139, 195, 74, 1)
                        HoverFill: =RGBA(139, 195, 74, 0.4)
                        OnSelect: |-
                            =UpdateContext({show_popup_extra: true})
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(95, 160, 20, 1)
                        RadiusBottomLeft: =50
                        RadiusBottomRight: =50
                        RadiusTopLeft: =50
                        RadiusTopRight: =50
                        TabIndex: =
                        Text: ="+"
                        Width: =20
                        X: =213
                        ZIndex: =7

            Propósito As groupContainer.manualLayoutContainer:
                Height: =204
                Width: =625
                X: =657
                Y: =256
                ZIndex: =3

                sin_proposito_central As text:
                    BorderColor: =RGBA(238, 110, 126, 1)
                    Default: =""
                    DisabledBorderColor: =RGBA(238, 110, 126, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =descripcion_proposito_1.Height+2
                    HoverBorderColor: =RGBA(238, 110, 126, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    RadiusBottomLeft: =12
                    RadiusBottomRight: =12
                    RadiusTopLeft: =12
                    RadiusTopRight: =12
                    TabIndex: =-1
                    Visible: =If(Len(descripcion_proposito_1.Text)=0 && sin_proposito_central, true, false)
                    Width: =575
                    X: =5
                    Y: |
                        =62
                    ZIndex: =1

                descripcion_proposito_1 As text:
                    BorderColor: =RGBA(255, 255, 255, 1)
                    BorderThickness: =0
                    Color: =RGBA(17, 61, 107, 1)
                    Default: =If(IsBlank(especificacion_convenio_recuperada.proposito_central),"",especificacion_convenio_recuperada.proposito_central)
                    DisabledColor: =RGBA(111, 139, 167, 1)
                    DisplayMode: =If(id_estado>=13,DisplayMode.Disabled,DisplayMode.Edit)
                    Fill: =RGBA(241, 244, 255, 1)
                    FocusedBorderThickness: =0
                    Height: =122
                    HintText: ="Describa el propósito central de su convenio..."
                    HoverBorderColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =RGBA(241, 244, 255, 1)
                    MaxLength: =1000
                    Mode: =TextMode.MultiLine
                    OnChange: |-
                        =UpdateContext({cambio_detectado:true})
                    PaddingBottom: =12
                    PaddingLeft: =24
                    PaddingRight: =24
                    PaddingTop: =12
                    RadiusBottomLeft: =12
                    RadiusBottomRight: =12
                    RadiusTopLeft: =12
                    RadiusTopRight: =12
                    Size: =14
                    TabIndex: =
                    Width: =572
                    X: =7
                    Y: =63
                    ZIndex: =2

                propósito_central As label:
                    Color: =RGBA(17, 61, 107, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =50
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =24
                    Size: =16
                    Text: ="Propósito central*"
                    Width: =500
                    X: =2
                    ZIndex: =3

            Especificaciones_convenio As groupContainer.manualLayoutContainer:
                Height: =460
                Width: =590
                X: =42
                ZIndex: =4

                Contenedor_detalle_convenio As groupContainer.manualLayoutContainer:
                    Height: =133
                    Width: =590
                    Y: =284
                    ZIndex: =1

                    nombre_convenio As groupContainer.manualLayoutContainer:
                        Height: =60
                        Width: =590
                        Y: =70
                        ZIndex: =1

                        Image2 As image:
                            Height: =40
                            Image: =fondo_deshabilitado
                            ImagePosition: =ImagePosition.Fill
                            RadiusBottomLeft: =12
                            RadiusBottomRight: =12
                            RadiusTopLeft: =12
                            RadiusTopRight: =12
                            Width: =584
                            Y: =20
                            ZIndex: =1

                        nombre_convenio_input As label:
                            Color: =RGBA(111, 139, 167, 1)
                            Height: =20
                            PaddingBottom: =0
                            PaddingLeft: =12
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =14
                            Text: ="EL CENTRO DE INVESTIGACIÓN EN AGROSISTEMAS INTENSIVOS MEDITERRÁNEOS Y BIOTECNOLOGÍA AGROALIMENTARIA DE LA UNIVERSIDAD DE ALMERÍA DE LA UNIVERSIDAD DE ALMERÍA, ESPAÑA Y LA UNIVERSIDAD DE CONCEPCIÓN "
                            Tooltip: ="EL CENTRO DE INVESTIGACIÓN EN AGROSISTEMAS INTENSIVOS MEDITERRÁNEOS Y BIOTECNOLOGÍA AGROALIMENTARIA DE LA UNIVERSIDAD DE ALMERÍA DE LA UNIVERSIDAD DE ALMERÍA, ESPAÑA Y LA UNIVERSIDAD DE CONCEPCIÓN "
                            Width: =560
                            Wrap: =false
                            X: =12
                            Y: =30
                            ZIndex: =3

                        nombre_convenio_label As label:
                            Color: =RGBA(111, 139, 167, 1)
                            FontWeight: =FontWeight.Bold
                            Height: =20
                            PaddingBottom: =4
                            PaddingLeft: =12
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10
                            Text: ="NOMBRE CONVENIO ASOCIADO"
                            VerticalAlign: =VerticalAlign.Top
                            Width: =300
                            ZIndex: =4

                    codigo_convenio As groupContainer.manualLayoutContainer:
                        Height: =60
                        Width: =590
                        ZIndex: =2

                        rut_na_input_1 As text:
                            BorderColor: =RGBA(255, 255, 255, 1)
                            BorderThickness: =0
                            Color: =RGBA(17, 61, 107, 1)
                            Default: |-
                                =//If(nueva_contraparte;Concatenate(contraparte_na.rut_entidad_contraparte;"-";contraparte_na.dv_entidad_contraparte);Concatenate(contraparte.rut_entidad_contraparte;"-";contraparte.dv_entidad_contraparte))
                                ""
                            DisabledColor: =RGBA(111, 139, 167, 1)
                            DisplayMode: =DisplayMode.Disabled
                            Fill: =RGBA(241, 244, 255, 1)
                            FocusedBorderThickness: =0
                            HintText: =""
                            HoverBorderColor: =RGBA(255, 255, 255, 1)
                            HoverFill: =RGBA(241, 244, 255, 1)
                            MaxLength: =60
                            PaddingBottom: =12
                            PaddingLeft: =24
                            PaddingRight: =24
                            PaddingTop: =12
                            RadiusBottomLeft: =12
                            RadiusBottomRight: =12
                            RadiusTopLeft: =12
                            RadiusTopRight: =12
                            Size: =14
                            TabIndex: =
                            Width: =584
                            Y: =20
                            ZIndex: =1

                        cod_convenio_label As label:
                            Color: =RGBA(111, 139, 167, 1)
                            FontWeight: =FontWeight.Bold
                            Height: =20
                            PaddingBottom: =4
                            PaddingLeft: =12
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10
                            Text: ="CÓDIGO CONVENIO ASOCIADO"
                            VerticalAlign: =VerticalAlign.Top
                            Width: =300
                            ZIndex: =2

                Contenedor_t_s As groupContainer.manualLayoutContainer:
                    Height: =64
                    Width: =590
                    Y: =210
                    ZIndex: =4

                    Contenedor_seleccionable_tipo_solicitud As groupContainer.manualLayoutContainer:
                        Height: =44
                        Width: =584
                        Y: =20
                        ZIndex: =2

                        fondo_celeste_3 As image:
                            BorderColor: =RGBA(255, 255, 255, 1)
                            Height: =40
                            HoverFill: =RGBA(186, 202, 226, 1)
                            Image: =If(id_estado>=13,fondo_deshabilitado,'background-input')
                            ImagePosition: =ImagePosition.Fill
                            RadiusBottomLeft: =12
                            RadiusBottomRight: =12
                            RadiusTopLeft: =12
                            RadiusTopRight: =12
                            Width: =584
                            ZIndex: =1

                        sin_solicitud As text:
                            BorderColor: =RGBA(238, 110, 126, 1)
                            Default: =""
                            DisabledBorderColor: =RGBA(238, 110, 126, 1)
                            DisabledFill: =RGBA(0, 0, 0, 0)
                            DisplayMode: =DisplayMode.Disabled
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =fondo_celeste_8.Height
                            HoverBorderColor: =RGBA(238, 110, 126, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            RadiusBottomLeft: =12
                            RadiusBottomRight: =12
                            RadiusTopLeft: =12
                            RadiusTopRight: =12
                            TabIndex: =-1
                            Visible: |
                                =If(sin_solicitud && IsBlank(tipo_solicitud), true, false)
                            Width: =584
                            Y: =1
                            ZIndex: =2

                        tipo_solicitud As dropdown:
                            AllowEmptySelection: |-
                                =//If(IsBlank(especificacion_convenio_recuperada.tipo_solicitud);true;false)
                                true
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =0
                            ChevronBackground: =RGBA(241, 244, 255, 1)
                            ChevronFill: =RGBA(111, 139, 167, 1)
                            ChevronHoverBackground: =RGBA(241, 244, 255, 1)
                            ChevronHoverFill: =RGBA(17, 61, 107, 1)
                            Color: =RGBA(17, 61, 107, 1)
                            Default: =If(nuevo || IsBlank(especificacion_convenio_recuperada.tipo_solicitud),"",LookUp(lista_tipo_solicitud,valor=Upper(especificacion_convenio_recuperada.tipo_solicitud),valor))
                            DisabledColor: =RGBA(111, 139, 167, 1)
                            DisplayMode: =If(id_estado>=13,DisplayMode.Disabled,DisplayMode.Edit)
                            Fill: =RGBA(241, 244, 255, 1)
                            FocusedBorderThickness: =0
                            Height: =38
                            HoverBorderColor: =RGBA(241,244,255,1)
                            HoverColor: =RGBA(17, 61, 107, 1)
                            HoverFill: =RGBA(207, 210, 232, 1)
                            Items: =lista_tipo_solicitud
                            OnChange: |-
                                =Reset(buscador_t_s_input);
                                UpdateContext({cambio_detectado:true})
                            PaddingBottom: =12
                            PaddingLeft: =12
                            PaddingTop: =12
                            PressedColor: =RGBA(17, 61, 107, 1)
                            PressedFill: =RGBA(241, 244, 255, 1)
                            SelectionColor: =RGBA(111, 139, 167, 1)
                            SelectionFill: =RGBA(241, 244, 255, 1)
                            Size: =14
                            TabIndex: =
                            Width: =fondo_celeste_3.Width-24
                            X: =fondo_celeste_3.X+12
                            Y: =fondo_celeste_3.Y+2
                            ZIndex: =3

                        tapar_tipo_solicitud As rectangle:
                            BorderStyle: =BorderStyle.None
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =40
                            Visible: =false
                            Width: =40
                            X: =533
                            Y: =fondo_celeste_3.Y
                            ZIndex: =4

                        buscador_t_s_input As text:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderThickness: =0
                            Color: |-
                                =//RGBA(17; 61; 107; 1)
                                //If(CountRows(Filter(lista_tipologia; TextInput1.Text in valor))>0;RGBA(0;0;0;0);RGBA(17; 61; 107; 1))
                                RGBA(17, 61, 107, 1)
                            Default: =""
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(17, 61, 107, 1)
                            DisabledFill: =RGBA(0, 0, 0, 0)
                            DisplayMode: =DisplayMode.Disabled
                            Fill: =RGBA(0, 0, 0, 0)
                            HintText: =If(IsBlank(tipo_solicitud.SelectedText),"Seleccionar...","")
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: |-
                                =//RGBA(17; 61; 107; 1)
                                //If(CountRows(Filter(lista_tipologia; TextInput1.Text in valor))>0;RGBA(0;0;0;0);RGBA(17; 61; 107; 1))
                                RGBA(17, 61, 107, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            OnChange: =
                            OnSelect: |-
                                =Reset(tipo_solicitud);
                                Reset(buscador_t_s_input)
                            PaddingBottom: =1
                            PaddingLeft: =24
                            PaddingRight: =10
                            PaddingTop: =0
                            Size: =14
                            Width: =530
                            ZIndex: =5

                    solicitud As label:
                        Color: =RGBA(111, 139, 167, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =20
                        PaddingBottom: =4
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10
                        Text: ="TIPO SOLICITUD*"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =584
                        ZIndex: =3

                Contenedor_m_c As groupContainer.manualLayoutContainer:
                    Height: =64
                    Width: =590
                    Y: =136
                    ZIndex: =5

                    modalidades As label:
                        Color: =RGBA(111, 139, 167, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =20
                        PaddingBottom: =4
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10
                        Text: ="MODALIDAD*"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =584
                        ZIndex: =1

                    Contenedor_seleccionable As groupContainer.manualLayoutContainer:
                        Height: =44
                        Width: =584
                        Y: =20
                        ZIndex: =2

                        fondo_celeste As image:
                            BorderColor: =RGBA(255, 255, 255, 1)
                            Height: =40
                            HoverFill: =RGBA(186, 202, 226, 1)
                            Image: =If(id_estado>=13,fondo_deshabilitado,'background-input')
                            ImagePosition: =ImagePosition.Fill
                            RadiusBottomLeft: =12
                            RadiusBottomRight: =12
                            RadiusTopLeft: =12
                            RadiusTopRight: =12
                            Width: =584
                            ZIndex: =1

                        sin_modalidad As text:
                            BorderColor: =RGBA(238, 110, 126, 1)
                            Default: =""
                            DisabledBorderColor: =RGBA(238, 110, 126, 1)
                            DisabledFill: =RGBA(0, 0, 0, 0)
                            DisplayMode: =DisplayMode.Disabled
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =fondo_celeste_8.Height
                            HoverBorderColor: =RGBA(238, 110, 126, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            RadiusBottomLeft: =12
                            RadiusBottomRight: =12
                            RadiusTopLeft: =12
                            RadiusTopRight: =12
                            TabIndex: =-1
                            Visible: |
                                =If(sin_modalidad &&IsBlank(tipo_modalidades), true, false)
                            Width: =584
                            Y: =1
                            ZIndex: =2

                        tipo_modalidades As dropdown:
                            AllowEmptySelection: |-
                                =//If(IsBlank(especificacion_convenio_recuperada.modalidad);true;false)
                                true
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =0
                            ChevronBackground: =RGBA(241, 244, 255, 1)
                            ChevronFill: =RGBA(111, 139, 167, 1)
                            ChevronHoverBackground: =RGBA(241, 244, 255, 1)
                            ChevronHoverFill: =RGBA(17, 61, 107, 1)
                            Color: =RGBA(17, 61, 107, 1)
                            Default: =If(nuevo || IsBlank(especificacion_convenio_recuperada.modalidad),"",LookUp(lista_modalidad,valor=Upper(especificacion_convenio_recuperada.modalidad),valor))
                            DisabledColor: =RGBA(111, 139, 167, 1)
                            DisplayMode: =If(id_estado>=13,DisplayMode.Disabled,DisplayMode.Edit)
                            Fill: =RGBA(241, 244, 255, 1)
                            FocusedBorderThickness: =0
                            Height: =38
                            HoverBorderColor: =RGBA(241,244,255,1)
                            HoverColor: =RGBA(17, 61, 107, 1)
                            HoverFill: =RGBA(207, 210, 232, 1)
                            Items: |-
                                =lista_modalidad
                                //Filter(lista_modalidad; buscador_t_m_input.Text in valor)
                                /*
                                Distinct(
                                    lista_modalidad;
                                    valor
                                )
                                */
                            OnChange: |-
                                =Reset(buscador_t_m_input);
                                UpdateContext({cambio_detectado:true})
                            PaddingBottom: =12
                            PaddingLeft: =12
                            PaddingTop: =12
                            PressedColor: =RGBA(17, 61, 107, 1)
                            PressedFill: =RGBA(241, 244, 255, 1)
                            SelectionColor: =RGBA(111, 139, 167, 1)
                            SelectionFill: =RGBA(241, 244, 255, 1)
                            Size: =14
                            TabIndex: =
                            Width: =fondo_celeste.Width-24
                            X: =fondo_celeste.X+12
                            Y: =fondo_celeste.Y+2
                            ZIndex: =3

                        tapar_tipo_modalidades As rectangle:
                            BorderStyle: =BorderStyle.None
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =40
                            Visible: =false
                            Width: =40
                            X: =tipo_modalidades.X+tipo_modalidades.Width-Self.Width+1
                            Y: =fondo_celeste.Y
                            ZIndex: =4

                        buscador_t_m_input As text:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderThickness: =0
                            Color: |-
                                =//RGBA(17; 61; 107; 1)
                                //If(CountRows(Filter(lista_tipologia; TextInput1.Text in valor))>0;RGBA(0;0;0;0);RGBA(17; 61; 107; 1))
                                RGBA(17, 61, 107, 1)
                            Default: =""
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(17, 61, 107, 1)
                            DisabledFill: =RGBA(0, 0, 0, 0)
                            DisplayMode: =DisplayMode.Disabled
                            Fill: =RGBA(0, 0, 0, 0)
                            HintText: =If(IsBlank(tipo_modalidades.SelectedText),"Seleccionar...","")
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: |-
                                =//RGBA(17; 61; 107; 1)
                                //If(CountRows(Filter(lista_tipologia; TextInput1.Text in valor))>0;RGBA(0;0;0;0);RGBA(17; 61; 107; 1))
                                RGBA(17, 61, 107, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            OnChange: =
                            OnSelect: |-
                                =Reset(tipo_modalidades);
                                Reset(buscador_t_m_input)
                            PaddingBottom: =1
                            PaddingLeft: =24
                            PaddingRight: =10
                            PaddingTop: =0
                            Size: =14
                            Width: =530
                            ZIndex: =5

                Contenedor_t_c As groupContainer.manualLayoutContainer:
                    Height: =64
                    Width: =590
                    Y: =62
                    ZIndex: =6

                    Contenedor_seleccionable_tipología As groupContainer.manualLayoutContainer:
                        Height: =44
                        Width: =584
                        Y: =20
                        ZIndex: =2

                        fondo_celeste_1 As image:
                            BorderColor: =RGBA(255, 255, 255, 1)
                            Height: =40
                            HoverFill: =RGBA(186, 202, 226, 1)
                            Image: =If(id_estado>=13,fondo_deshabilitado,'background-input')
                            ImagePosition: =ImagePosition.Fill
                            RadiusBottomLeft: =12
                            RadiusBottomRight: =12
                            RadiusTopLeft: =12
                            RadiusTopRight: =12
                            Width: =584
                            ZIndex: =1

                        sin_tipologia As text:
                            BorderColor: =RGBA(238, 110, 126, 1)
                            Default: =""
                            DisabledBorderColor: =RGBA(238, 110, 126, 1)
                            DisabledFill: =RGBA(0, 0, 0, 0)
                            DisplayMode: =DisplayMode.Disabled
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =fondo_celeste_8.Height
                            HoverBorderColor: =RGBA(238, 110, 126, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            RadiusBottomLeft: =12
                            RadiusBottomRight: =12
                            RadiusTopLeft: =12
                            RadiusTopRight: =12
                            TabIndex: =-1
                            Visible: |+
                                =If(sin_tipologia && IsBlank(tipo_tipologia),true, false)
                                
                            Width: =584
                            Y: =1
                            ZIndex: =2

                        tipo_tipologia As dropdown:
                            AllowEmptySelection: |-
                                =//If(IsBlank(especificacion_convenio_recuperada.tipologia);true;false)
                                true
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =0
                            ChevronBackground: =RGBA(241, 244, 255, 1)
                            ChevronFill: =RGBA(111, 139, 167, 1)
                            ChevronHoverBackground: =RGBA(241, 244, 255, 1)
                            ChevronHoverFill: =RGBA(17, 61, 107, 1)
                            Color: =RGBA(17, 61, 107, 1)
                            Default: =If(nuevo||IsBlank(especificacion_convenio_recuperada.tipologia),"",LookUp(lista_tipologia,valor=Upper(especificacion_convenio_recuperada.tipologia),valor))
                            DisabledColor: =RGBA(111, 139, 167, 1)
                            DisplayMode: =If(id_estado>=13,DisplayMode.Disabled,DisplayMode.Edit)
                            Fill: =RGBA(241, 244, 255, 1)
                            FocusedBorderThickness: =0
                            Height: =38
                            HoverBorderColor: =RGBA(241,244,255,1)
                            HoverColor: =RGBA(17, 61, 107, 1)
                            HoverFill: =RGBA(207, 210, 232, 1)
                            Items: =lista_tipologia
                            OnChange: |-
                                =Reset(buscador_t_input);
                                UpdateContext({cambio_detectado:true})
                            PaddingBottom: =12
                            PaddingLeft: =12
                            PaddingTop: =12
                            PressedColor: =RGBA(17, 61, 107, 1)
                            PressedFill: =RGBA(241, 244, 255, 1)
                            SelectionColor: =RGBA(111, 139, 167, 1)
                            SelectionFill: =RGBA(241, 244, 255, 1)
                            Size: =14
                            TabIndex: =
                            Width: =fondo_celeste_1.Width-24
                            X: =fondo_celeste_1.X+12
                            Y: =fondo_celeste_1.Y+2
                            ZIndex: =3

                        tapar_tipo_tipologia As rectangle:
                            BorderStyle: =BorderStyle.None
                            Fill: =RGBA(244, 244, 244, 1)
                            Height: =40
                            Visible: =false
                            Width: =40
                            X: =tipo_tipologia.X+tipo_tipologia.Width-Self.Width+1
                            Y: =fondo_celeste_1.Y
                            ZIndex: =4

                        buscador_t_input As text:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderThickness: =0
                            Color: |-
                                =//RGBA(17; 61; 107; 1)
                                //If(CountRows(Filter(lista_tipologia; TextInput1.Text in valor))>0;RGBA(0;0;0;0);RGBA(17; 61; 107; 1))
                                RGBA(17, 61, 107, 1)
                            Default: =""
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            DisabledColor: =RGBA(17, 61, 107, 1)
                            DisabledFill: =RGBA(0, 0, 0, 0)
                            DisplayMode: =DisplayMode.Disabled
                            Fill: =RGBA(0, 0, 0, 0)
                            HintText: =If(IsBlank(tipo_tipologia.SelectedText),"Seleccionar...","")
                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                            HoverColor: |-
                                =//RGBA(17; 61; 107; 1)
                                //If(CountRows(Filter(lista_tipologia; TextInput1.Text in valor))>0;RGBA(0;0;0;0);RGBA(17; 61; 107; 1))
                                RGBA(17, 61, 107, 1)
                            HoverFill: =RGBA(0, 0, 0, 0)
                            OnChange: =
                            OnSelect: |-
                                =Reset(tipo_tipologia);
                                Reset(buscador_t_input)
                            PaddingBottom: =1
                            PaddingLeft: =24
                            PaddingRight: =10
                            PaddingTop: =0
                            Size: =14
                            Width: =530
                            ZIndex: =5

                    tipologia As label:
                        Color: =RGBA(111, 139, 167, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =20
                        PaddingBottom: =4
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10
                        Text: ="TIPOLOGÍA*"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =584
                        ZIndex: =3

                alcance_territorial_convenio_solicitado As label:
                    Color: =RGBA(17, 61, 107, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =50
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =24
                    Size: =16
                    Text: ="Especificaciones"
                    Width: =626
                    ZIndex: =7

                buscar_8 As image:
                    Height: =20
                    Image: =ico_search
                    Width: =20
                    X: =544
                    Y: =315
                    ZIndex: =8

                btn_buscar_autoridad_1 As button:
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =1
                    DisabledFill: =RGBA(244, 244, 244, 0.4)
                    DisplayMode: =If(id_estado<13 && (tipo_solicitud.Selected.id="1" || IsBlank(tipo_solicitud.Selected.id)),DisplayMode.Disabled,DisplayMode.Edit)
                    Fill: =RGBA(0, 0, 0, 0)
                    FontWeight: =FontWeight.Bold
                    Height: =30
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverFill: =RGBA(207, 210, 232, 0.4)
                    OnSelect: |-
                        =UpdateContext({popup_convenio_existente: true});
                        /*
                        Set(a_seleccionada;"");;
                        Reset(inp_autoridad_popup_search);;
                        */
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(207, 210, 232, 0.4)
                    RadiusBottomLeft: =50
                    RadiusBottomRight: =50
                    RadiusTopLeft: =50
                    RadiusTopRight: =50
                    Size: =20
                    TabIndex: =
                    Text: =""
                    Width: =30
                    X: =539
                    Y: =310
                    ZIndex: =9

                formatos_permitidos_lb_9 As label:
                    Color: =RGBA(111, 139, 167, 1)
                    Height: =20
                    Italic: =true
                    PaddingLeft: =12
                    Size: =10
                    Text: ="Sólo para solicitudes de anexo o renovación de convenio existente"
                    Width: =560
                    X: =15
                    Y: =425
                    ZIndex: =10

                Icon1_4 As icon.Help:
                    Color: =RGBA(111, 139, 167, 1)
                    Height: =15
                    Icon: =Icon.Help
                    Width: =15
                    X: =6
                    Y: =428
                    ZIndex: =11

        datos_convenio_solicitado As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Height: =96
            PaddingBottom: =34
            PaddingLeft: =42
            PaddingRight: =0
            PaddingTop: =42
            Size: =20
            Text: ="Datos del convenio solicitado"
            Width: =1366
            ZIndex: =3

    lbl_faltan_datos_1 As label:
        Align: =Align.Right
        Color: =RGBA(238, 110, 126, 1)
        FontWeight: =FontWeight.Bold
        Height: =20
        PaddingRight: =90
        Size: =11
        Text: ="Debe completar los campos faltantes."
        Visible: =If((Len(descripcion_proposito_1.Text)=0 || IsBlank(Gallery1_1) || IsBlank(Gallery1_2)) && (sin_proposito_central || sin_documentacion_oficial || sin_documentacion_extra), true)
        Width: =856
        X: =510
        Y: =657
        ZIndex: =3

    BannerUdeC_1 As HeaderUdeC:
        Bienvenido: =If(persona_solicitante.sexo_social="F","Bienvenida,","Bienvenido,")
        Subtitulo: ="VINCULACIÓN CON EL MEDIO"
        Titulo: ="Solicitud de Tramitación de Convenios"
        ZIndex: =4

    lbl_campo_obligatorio_5 As label:
        Color: =RGBA(17, 61, 107, 1)
        FontWeight: =FontWeight.Semibold
        Height: =20
        PaddingLeft: =45
        Size: =11
        Text: ="*Campos obligatorios."
        Width: =856
        X: =42
        Y: =657
        ZIndex: =5

    Adjuntar_popup_extra As groupContainer.manualLayoutContainer:
        Height: =Datos_convenio.Height
        Visible: =show_popup_extra
        Width: =Datos_convenio.Width
        ZIndex: =6

        fig_registro_10_popup_bg_1 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Width: =1366
            ZIndex: =1

        img_registro_10_popup_bg_1 As image:
            Height: =352
            Image: ='background-section'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =24
            RadiusBottomRight: =24
            RadiusTopLeft: =24
            RadiusTopRight: =24
            Width: =709
            X: =328
            Y: =208
            ZIndex: =2

        lbl_registro_10_popup_titulo_1 As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Height: =50
            PaddingLeft: =0
            Size: =18
            Text: ="Adjuntar documentación adicional"
            Width: =434
            X: =360
            Y: =238
            ZIndex: =3

        btn_registro_10_popup_guardar_1 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =UpdateContext({archivo_invalido_extra:false});
                Set(existe_adjunto_extra, false);
                Clear(attachment_extension_collect);
                Clear(doc_extr_cumple_formato);
                If(CountRows(att_registro_10_attach_extra.Attachments) > 0, 
                    ForAll(att_registro_10_attach_extra.Attachments,
                        //ThisRecord.Name
                        Collect(attachment_extension_collect,
                            Last(Split(ThisRecord.Name,"."))
                        );
                        If( Last(attachment_extension_collect).Value="jpg" || Last(attachment_extension_collect).Value="jpeg" || 
                            Last(attachment_extension_collect).Value="pdf" || Last(attachment_extension_collect).Value="doc" || 
                            Last(attachment_extension_collect).Value="docx" || Last(attachment_extension_collect).Value="xls" || 
                            Last(attachment_extension_collect).Value="xlsx" || Last(attachment_extension_collect).Value="JPG" || 
                            Last(attachment_extension_collect).Value="JPEG" || Last(attachment_extension_collect).Value="PDF" ||
                            Last(attachment_extension_collect).Value="DOC" || Last(attachment_extension_collect).Value="DOCX" ||
                            Last(attachment_extension_collect).Value="XLS" || Last(attachment_extension_collect).Value="XLSX",
                
                            Collect(doc_extr_cumple_formato,"true"),
                            Collect(doc_extr_cumple_formato,"false")
                        )
                    );
                    If(CountRows(Search(doc_extr_cumple_formato,"false", "Value"))>0,
                        UpdateContext({archivo_invalido_extra:true});
                        Set(existe_adjunto_extra, false)
                    ,
                        UpdateContext({archivo_invalido_extra:false});
                        Set(existe_adjunto_extra, true);
                    );
                );
                
                If(CountRows(att_registro_10_attach_extra.Attachments) > 0,  
                    If(!archivo_invalido_extra,
                
                        //GUARDA EL CONTENIDO DEL ARCHIVO CARGADO
                        //Set(Contenido_extra;att_registro_10_attach_extra.Attachments);;
                
                        If(id_estado=2,Set(id_estado,9));//pasa a especificacion convenio registrada
                        If(id_estado=4,Set(id_estado,9));//pasa a especificacion convenio registrada
                        
                        Set(cargando, true);
                        Clear(documento_extra_subido);
                        ForAll(att_registro_10_attach_extra.Attachments,
                            Collect(documento_extra_subido,
                                'Convenio-PAGuardardocumentoconvenio'.Run(
                                    id_convenio,
                                    "Documento adicional",
                                    id_estado,
                                    {
                                        file:{
                                            name:ThisRecord.Name,
                                            contentBytes: ThisRecord.Value
                                        }
                                    }
                                )
                            );
                            Collect(lista_doc_ext_subidos,{
                                file: Last(documento_extra_subido).file,
                                id:Last(documento_extra_subido).id
                            });
                            Collect(id_lista_doc_ext_subidos,{
                                ID: Last(documento_extra_subido).id
                            });
                        );
                        'Convenio-PAActualizaridlistasSharePointasociadas'.Run(
                            JSON(id_lista_doc_ext_subidos),
                            "documentación adicional",
                            id_convenio
                        );
                        Set(guardado,true);
                        Set(cargando, false);
                        Reset(att_registro_10_attach_extra);
                        Set(num_max_doc_extra,15 - CountRows(lista_doc_ext_subidos));
                        UpdateContext({show_popup_extra: false});
                    ), 
                    Set(existe_adjunto_extra, false);
                    UpdateContext({archivo_invalido_extra:false});
                    UpdateContext({show_popup_extra: false})
                )
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(show_popup_oficial,1,-1)
            Text: ="ACEPTAR"
            X: =845
            Y: =490
            ZIndex: =4

        btn_registro_10_popup_cancelar_1 As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: |-
                =UpdateContext({show_popup_extra: false});
                Reset(att_registro_10_attach_extra);
                UpdateContext({archivo_invalido_extra:false});
                Set(existe_adjunto_extra, false);
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(show_popup_oficial,0,-1)
            Text: ="CANCELAR"
            X: =655
            Y: =490
            ZIndex: =5

        img_registro_10_popup_1 As image:
            Height: =94
            Image: ='background-input'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Width: =645
            X: =360
            Y: =326
            ZIndex: =6

        att_registro_10_attach_extra As attachments:
            AddAttachmentText: ="Adjuntar archivo (tamaño máximo 10 MB)"
            BorderColor: =
            BorderStyle: =BorderStyle.None
            Color: =RGBA(111, 139, 167, 1)
            DropTargetBackgroundColor: =RGBA(0, 0, 0, 0)
            DropTargetBorderStyle: =BorderStyle.None
            DropTargetTextColor: =RGBA(111, 139, 167, 1)
            Fill: =RGBA(255, 255, 255, 0)
            Height: =94
            HoverColor: =RGBA(111, 139, 167, 1)
            IsInDataCard: =true
            Items: =
            MaxAttachments: =num_max_doc_extra
            MaxAttachmentsText: ="Se ha alcanzado la cantidad máxima de archivos."
            NoAttachmentsText: ="No hay ningún archivo adjunto."
            OnRemoveFile: |-
                =UpdateContext({archivo_invalido:false})
            PaddingBottom: =5
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            PaddingRight: =5
            PaddingTop: =5
            PressedFill: =RGBA(111, 139, 167, 1)
            Size: =10
            TabIndex: =If(show_popup_oficial,1,-1)
            Tooltip: =
            Width: =645
            X: =360
            Y: =326
            ZIndex: =7

        lbl_registro_10_faltandatos_2 As label:
            Align: =Align.Center
            Color: =RGBA(238, 110, 126, 1)
            FontWeight: =FontWeight.Bold
            Height: =72
            Size: =11
            Text: ="Tipo de archivo no permitido"
            Visible: =archivo_invalido_extra
            Width: =img_registro_10_popup_bg_1.Width
            X: =img_registro_10_popup_bg_1.X
            Y: =btn_registro_10_popup_cancelar_1.Y-Self.Height
            ZIndex: =8

        formatos_permitidos_lb_3 As label:
            Color: =RGBA(111, 139, 167, 1)
            Height: =20
            Italic: =true
            Size: =10
            Text: |-
                ="Formatos permitidos: jpg, jpeg, pdf, doc, docx, xls, xlsx"
            Width: =455
            X: =360
            Y: =420
            ZIndex: =9

    Adjuntar_popup_oficial As groupContainer.manualLayoutContainer:
        Height: =Datos_convenio.Height
        Visible: =show_popup_oficial
        Width: =Datos_convenio.Width
        ZIndex: =7

        fig_registro_10_popup_bg As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Width: =1366
            ZIndex: =1

        img_registro_10_popup_bg As image:
            Height: =352
            Image: ='background-section'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =24
            RadiusBottomRight: =24
            RadiusTopLeft: =24
            RadiusTopRight: =24
            Width: =709
            X: =328
            Y: =208
            ZIndex: =2

        lbl_registro_10_popup_titulo As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            PaddingLeft: =0
            Size: =18
            Text: ="Adjuntar borrador convenio"
            Width: =400
            X: =360
            Y: =238
            ZIndex: =3

        btn_registro_10_popup_guardar As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =If(CountRows(att_registro_10_attach_oficial.Attachments) > 0,  
                    Set(attachment_extension,Last(ForAll(Split(First(att_registro_10_attach_oficial.Attachments).Name,"."), {Result: ThisRecord.Value})).Result);
                    Set(test_attachment,First(att_registro_10_attach_oficial.Attachments).Value);
                    If(attachment_extension="doc" || attachment_extension="docx",
                        Set(existe_adjunto, true);
                        UpdateContext({archivo_invalido:false});
                        //GUARDA EL CONTENIDO DEL ARCHIVO CARGADO
                        //Set(Contenido_oficial;att_registro_10_attach_oficial.Attachments);;
                            
                        If(id_estado=2,Set(id_estado,9));//pasa a especificacion convenio registrada
                        If(id_estado=4,Set(id_estado,9));//pasa a especificacion convenio registrada
                
                        Set(cargando, true);
                        Clear(documento_oficial_subido);
                        ForAll(att_registro_10_attach_oficial.Attachments,
                            Collect(documento_oficial_subido,
                                'Convenio-PAGuardardocumentoconvenio'.Run(
                                    id_convenio,
                                    "Borrador convenio",
                                    id_estado,
                                    {
                                        file:{
                                            name:ThisRecord.Name,
                                            contentBytes: ThisRecord.Value
                                        }
                                    }
                                )
                            );
                            Collect(lista_doc_off_subidos,{
                                file: Last(documento_oficial_subido).file,
                                id:Last(documento_oficial_subido).id
                            });
                            Collect(id_lista_doc_off_subidos,{
                                ID: Last(documento_oficial_subido).id
                            });
                        );
                        'Convenio-PAActualizaridlistasSharePointasociadas'.Run(
                            JSON(id_lista_doc_off_subidos),
                            "borrador convenio",
                            id_convenio
                        );
                        Set(guardado,true);
                        Set(cargando, false);
                        Reset(att_registro_10_attach_oficial);
                        Set(num_max_doc_official,1 - CountRows(lista_doc_off_subidos));
                
                        UpdateContext({show_popup_oficial: false});
                        UpdateContext({mostrar_lista_archivos_oficiales:true});
                        ,
                        Set(existe_adjunto, false);
                        UpdateContext({archivo_invalido:true});
                        UpdateContext({mostrar_lista_archivos_oficiales:false})
                    ),
                    Set(existe_adjunto, false);
                    UpdateContext({archivo_invalido:false});
                    UpdateContext({show_popup_oficial: false});
                    UpdateContext({mostrar_lista_archivos_oficiales:false})
                );
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(show_popup_oficial,1,-1)
            Text: ="ACEPTAR"
            X: =845
            Y: =490
            ZIndex: =4

        btn_registro_10_popup_cancelar As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: |-
                =//UpdateContext({sacar_archivo_oficial:true});;
                UpdateContext({show_popup_oficial: false});
                //UpdateContext({sacar_archivo_oficial:false});;
                UpdateContext({archivo_invalido:false});
                Reset(att_registro_10_attach_oficial);
                Set(existe_adjunto, false);
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(show_popup_oficial,0,-1)
            Text: ="CANCELAR"
            X: =655
            Y: =490
            ZIndex: =5

        img_registro_10_popup As image:
            Height: =94
            Image: ='background-input'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Width: =645
            X: =360
            Y: =326
            ZIndex: =6

        lbl_registro_10_faltandatos_1 As label:
            Align: =Align.Center
            Color: =RGBA(238, 110, 126, 1)
            FontWeight: =FontWeight.Bold
            Height: =72
            Size: =11
            Text: ="Tipo de archivo no permitido"
            Visible: =archivo_invalido
            Width: =img_registro_10_popup_bg.Width
            X: =img_registro_10_popup_bg.X
            Y: =btn_registro_10_popup_cancelar.Y-Self.Height
            ZIndex: =8

        formatos_permitidos_lb_2 As label:
            Color: =RGBA(111, 139, 167, 1)
            Height: =20
            Italic: =true
            Size: =10
            Text: |-
                ="Formatos permitidos: doc, docx"
            Width: =455
            X: =360
            Y: =420
            ZIndex: =9

        att_registro_10_attach_oficial As attachments:
            AddAttachmentText: ="Adjuntar archivo (tamaño máximo 10 MB)"
            BorderColor: =
            BorderStyle: =BorderStyle.None
            Color: =RGBA(111, 139, 167, 1)
            DropTargetBackgroundColor: =RGBA(0, 0, 0, 0)
            DropTargetBorderStyle: =BorderStyle.None
            DropTargetTextColor: =RGBA(111, 139, 167, 1)
            Fill: =RGBA(255, 255, 255, 0)
            Height: =94
            HoverColor: =RGBA(111, 139, 167, 1)
            IsInDataCard: =true
            Items: =
            MaxAttachments: =num_max_doc_official
            MaxAttachmentsText: ="Se ha alcanzado la cantidad máxima de archivos."
            NoAttachmentsText: ="No hay ningún archivo adjunto."
            OnRemoveFile: |-
                =UpdateContext({archivo_invalido:false})
            OnUndoRemoveFile: =true
            PaddingBottom: =5
            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
            PaddingRight: =5
            PaddingTop: =5
            PressedFill: =RGBA(111, 139, 167, 1)
            Reset: =//sacar_archivo_oficial
            Size: =10
            TabIndex: =If(show_popup_oficial,1,-1)
            Tooltip: =
            Width: =645
            X: =360
            Y: =326
            ZIndex: =15

    cont_loading_5 As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =9

        fig_registro_5_bg_6 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Visible: =cargando
            Width: =1366
            ZIndex: =21

        img_loading_5 As image:
            Image: =loading
            Visible: =cargando
            X: =632
            Y: =323
            ZIndex: =22

    grp_eliminar_oficial_popup As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =16

        fig_eliminar_popup_bg_8 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Visible: =popup_eliminar_oficial
            Width: =1366
            ZIndex: =8

        img_eliminar_popup_1 As image:
            Height: =352
            Image: ='background-section'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =24
            RadiusBottomRight: =24
            RadiusTopLeft: =24
            RadiusTopRight: =24
            Visible: =popup_eliminar_oficial
            Width: =709
            X: =327
            Y: =208
            ZIndex: =9

        lbl_eliminar_popup_titulo_1 As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Size: =18
            Text: ="ELIMINACIÓN BORRADOR DE CONVENIO"
            Visible: =popup_eliminar_oficial
            Width: =612
            X: =359
            Y: =234
            ZIndex: =10

        lbl_desea_eliminar_1 As label:
            Align: =Align.Center
            Color: =RGBA(17, 61, 107, 1)
            Height: =117
            Size: =14
            Text: |-
                ="El documento del borrador de convenio será eliminado
                ¿Desea continuar?"
            Visible: =popup_eliminar_oficial
            Width: =645
            X: =359
            Y: =314
            ZIndex: =11

        btn_eliminar_popup_1 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =Set(cargando,true);
                
                Remove(lista_doc_off_subidos,lista_documentos_popup_oficial);
                Set(num_max_doc_official,1-CountRows(lista_doc_off_subidos));
                'Convenio-PAEliminardocumentoconvenio'.Run(
                    nombre_documento_popup_oficial
                );
                Remove(
                    id_lista_doc_off_subidos,
                    First(
                        Filter(
                            id_lista_doc_off_subidos,
                            Lower(ID) = Lower(lista_documentos_popup_oficial.id)
                        )
                    )
                );
                UpdateContext({popup_eliminar_oficial:false});
                Set(cargando,false);
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(popup_confirmacion,1,-1)
            Text: ="ELIMINAR"
            Visible: =popup_eliminar_oficial
            X: =844
            Y: =488
            ZIndex: =12

        btn_eliminar_popup_atras_4 As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: |-
                =UpdateContext({popup_eliminar_oficial:false})
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(popup_confirmacion,0,-1)
            Text: ="CANCELAR"
            Visible: =popup_eliminar_oficial
            X: =652
            Y: =488
            ZIndex: =13

    convenio_existente_popup As groupContainer.manualLayoutContainer:
        Height: =Unidad_solicitante.Height
        Visible: =popup_convenio_existente
        Width: =Unidad_solicitante.Width
        ZIndex: =20

        fig_registro_5_popup_bg_12 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Width: =1366
            ZIndex: =1

        fondo_blanco_14 As image:
            Height: =352
            Image: ='background-section'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =24
            RadiusBottomRight: =24
            RadiusTopLeft: =24
            RadiusTopRight: =24
            Width: =709
            X: =328
            Y: =208
            ZIndex: =2

        lbl_convenio_existente_popup_titulo As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Size: =18
            Text: ="Búsqueda de convenio existente"
            Width: =650
            X: =360
            Y: =234
            ZIndex: =3

        buscar_9 As image:
            Height: =20
            Image: =ico_search
            Width: =20
            X: =970
            Y: =366
            ZIndex: =4

        lbl_convenio_existente_popup_nombre As label:
            Color: =RGBA(111, 139, 167, 1)
            FontWeight: =FontWeight.Bold
            Size: =10
            Text: ="NOMBRE/CÓDIGO CONVENIO"
            Width: =450
            X: =360
            Y: =314
            ZIndex: =5

        lbl_convenio_existente_popup_noencontrado As label:
            Align: =Align.Center
            Color: =RGBA(238, 110, 126, 1)
            FontWeight: =FontWeight.Bold
            Size: =11
            Text: ="Convenio no encontrado. Por favor intente nuevamente"
            Visible: =popup_convenionoencontrado
            Width: =481
            X: =(fondo_blanco_14.X+fondo_blanco_14.Width/2)-Self.Width/2
            Y: =418
            ZIndex: =6

        lbl_convenio_existente_popup_faltandatos As label:
            Align: =Align.Center
            Color: =RGBA(238, 110, 126, 1)
            FontWeight: =FontWeight.Bold
            Size: =11
            Text: ="Ingresar nombre o código convenio"
            Visible: =popup_faltanombre
            Width: =540
            X: =(fondo_blanco_14.X+fondo_blanco_14.Width/2)-Self.Width/2
            Y: =418
            ZIndex: =7

        formatos_permitidos_lb_7 As label:
            Color: =RGBA(111, 139, 167, 1)
            Height: =20
            Italic: =true
            PaddingLeft: =12
            Size: =10
            Text: ="Si la institución no es encontrada por nombre, digite su RUT sin puntos y con guión"
            Visible: =false
            Width: =620
            X: =374
            Y: =399
            ZIndex: =10

        Icon1_3 As icon.Help:
            Color: =RGBA(111, 139, 167, 1)
            Height: =15
            Icon: =Icon.Help
            Visible: =false
            Width: =15
            X: =365
            Y: =402
            ZIndex: =11

        lbl_convenio_min_caracteres_popup As label:
            Align: =Align.Center
            Color: =RGBA(238, 110, 126, 1)
            FontWeight: =FontWeight.Bold
            Size: =11
            Text: ="Introduzca un mínimo de 3 caracteres"
            Visible: =error_minimo_caracteres && !lbl_convenio_existente_popup_faltandatos.Visible
            Width: =540
            X: =(fondo_blanco_14.X+fondo_blanco_14.Width/2)-Self.Width/2
            Y: =418+0
            ZIndex: =12

        fig_registro_5_popup_bg_13 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0)
            Height: =768
            OnSelect: |-
                =UpdateContext({desplegar_buscador_convenio:false});
                Reset(inp_convenio_existente_popup_search);
                //Set(pj_seleccionada;Blank());;
            Width: =1366
            ZIndex: =13

        btn_convenio_existente_popup_cancelar As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: |-
                =UpdateContext({popup_convenio_existente: false});
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            Text: ="CANCELAR"
            X: =653
            Y: =488
            ZIndex: =14

        btn_convenio_existente_popup_buscar As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |
                =UpdateContext({popup_faltanombre:false, popup_convenionoencontrado:false});
                UpdateContext({es_codigo:false});
                UpdateContext({mostrar_lista_convenio_existente:false});
                UpdateContext({desplegar_buscador_convenio:false});
                UpdateContext({error_minimo_caracteres:false});
                
                If(
                    //si es por nombre
                    !IsBlank(Match(TrimEnds(Trim(inp_convenio_existente_popup_search.Text)), "[a-z][a-z]").FullMatch) || //"xx"
                    !IsBlank(Match(TrimEnds(Trim(inp_convenio_existente_popup_search.Text)), "[a-z0-9]\.").FullMatch) || //"x."
                    !IsBlank(Match(TrimEnds(Trim(inp_convenio_existente_popup_search.Text)), "[a-z0-9] ").FullMatch) //"x "
                    ,
                    UpdateContext({es_codigo:false})
                    ,
                    UpdateContext({es_codigo:true})
                );
                
                If(Len(inp_convenio_existente_popup_search.Text)>=3,
                    UpdateContext({cumple_minimo_caracteres:true}),
                    UpdateContext({cumple_minimo_caracteres:false})
                );
                
                If(IsBlank(inp_convenio_existente_popup_search.Text),
                /*
                //
                If(
                    !IsBlank(//busca si el rut ya ha sido ingresado
                        LookUp(
                            contrapartes_nacionales; 
                            Lower(rut_entidad_contraparte) = Lower(inp_contraparte_na_popup_search.Text)
                        )
                    )
                    ||
                    !IsBlank(//busca si el nombre ya ha sido ingresado
                        LookUp(
                            contrapartes_nacionales; 
                            Lower(nombre_entidad_contraparte) = Lower(inp_contraparte_na_popup_search.Text)
                        )
                    )
                ;
                    Set(cargando; true);;
                    If(es_codigo;
                        Set(persona_juridica;
                            'VRIM-PABuscarPersonaJurídicapornombreoRut'.Run(inp_contraparte_na_popup_search.Text;"Rut")
                        )
                    ;
                        If(cumple_minimo_caracteres;
                            Set(persona_juridica;
                                'VRIM-PABuscarPersonaJurídicapornombreoRut'.Run(inp_contraparte_na_popup_search.Text;"Nombre")
                            );
                            UpdateContext({error_minimo_caracteres:true})
                        )
                    );;
                
                    If(persona_juridica.status;//si encuentra la persona jurídica
                        Set(lista_persona_juridica;persona_juridica.data);;
                        UpdateContext({mostrar_lista_convenio_existente:true});;
                        UpdateContext({desplegar_buscador_convenio:true})
                    ;
                        If(!error_minimo_caracteres;
                            UpdateContext({popup_convenionoencontrado:true})
                        )
                    );;
                    
                    Set(cargando; false);;
                );;
                    ;*/
                    UpdateContext({popup_faltanombre:true})
                )
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Text: ="BUSCAR"
            Visible: =IsBlank(pj_seleccionada)
            X: =845+0
            Y: =488+0
            ZIndex: =15

        btn_convenio_existente_popup_aceptar As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =Set(contraparte_na,pj_detalle);
                Set(popup_contraparte_na,false)
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Text: ="ACEPTAR"
            Visible: =!IsBlank(pj_seleccionada)
            X: =845+0
            Y: =488+0
            ZIndex: =16

        inp_convenio_existente_popup_search As text:
            BorderColor: =RGBA(255, 255, 255, 1)
            BorderThickness: =0
            Color: =RGBA(17, 61, 107, 1)
            Default: |
                =If(mostrar_lista_convenio_existente,
                    If(desplegar_buscador_convenio,"",pj_seleccionada),
                    ""
                )
            DisabledColor: =RGBA(111, 139, 167, 1)
            Fill: =RGBA(241, 244, 255, 1)
            Height: =46
            HintText: ="Ingresar nombre o código"
            HoverBorderColor: =RGBA(255, 255, 255, 1)
            HoverFill: =RGBA(241, 244, 255, 1)
            OnSelect: |
                =Set(pj_seleccionada,Blank());
                If(mostrar_lista_convenio_existente,
                    Reset(inp_convenio_existente_popup_search);
                    If(desplegar_buscador_juridica,
                        UpdateContext({desplegar_buscador_juridica:false}),
                        UpdateContext({desplegar_buscador_juridica:true})
                    )
                );
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Width: =645
            X: =360
            Y: =353
            ZIndex: =17

        Contenedor_convenio_existente As groupContainer.manualLayoutContainer:
            Visible: |-
                =//desplegar_buscador_a
                mostrar_lista_convenio_existente && desplegar_buscador_convenio && CountRows(opciones_persona_juridica_1.AllItems)>0
            Width: =620
            X: =371+0
            Y: =397+0
            ZIndex: =18

            opciones_persona_juridica_1 As gallery.galleryVertical:
                DelayItemLoading: =true
                Height: =200
                Items: =Filter(lista_persona_juridica, inp_convenio_existente_popup_search.Text in razonSocial)
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                OnSelect: |
                    =false
                TemplatePadding: =0
                TemplateSize: =50
                Width: =620
                WrapCount: =0
                ZIndex: =1

                fondo_celeste_16 As image:
                    BorderColor: =RGBA(255, 255, 255, 1)
                    Height: =52
                    HoverFill: =RGBA(186, 202, 226, 1)
                    Image: ='background-input'
                    ImagePosition: =ImagePosition.Fill
                    Width: =620
                    ZIndex: =1

                Label1_5 As label:
                    Color: =RGBA(17, 61, 107, 1)
                    DisabledFill: =RGBA(241, 244, 255, 1)
                    Height: =50
                    HoverColor: =RGBA(17, 61, 107, 1)
                    HoverFill: =RGBA(207, 210, 232, 1)
                    OnSelect: |-
                        =Select(Parent);
                        /*
                        
                        Set(a_seleccionada;ThisItem.nombre);;
                        
                        Set(autoridad_seleccionada;{
                            nombre: ThisItem.nombre;
                            cargo: ThisItem.cargo;
                            correo: ThisItem.correo;
                            telefono: ThisItem.telefono
                        })
                        */
                        If(desplegar_buscador_juridica,
                            UpdateContext({desplegar_buscador_juridica:false}),
                            UpdateContext({desplegar_buscador_juridica:true})
                        );
                        Set(pj_detalle,{
                            nombre_entidad_contraparte: ThisItem.razonSocial,
                            rut_entidad_contraparte: Text(ThisItem.rut),
                            dv_entidad_contraparte: ThisItem.dv,
                            nombre_representante_legal: "",
                            nombre_responsable_institucional:"",
                            cargo_responsable_institucional:"",
                            pais:"CHILE",
                            correo_responsable_institucional:"",
                            publica:ThisItem.publica,
                            tipo_empresa: "-",
                            comuna: "-",
                            tipo_contribuyente: "-",
                            rubro: "-",
                            actividad: "-",
                            //id: First(datos_contraparte).id;
                            firma_digital:""
                        });
                        Set(pj_seleccionada,ThisItem.razonSocial);
                        /*
                        
                        
                        
                        
                        
                        */
                    PaddingBottom: =0
                    PaddingLeft: =12
                    PaddingRight: =10
                    PaddingTop: =0
                    Size: =14
                    Text: =ThisItem.razonSocial
                    Width: =599
                    ZIndex: =3

    grp_eliminar_extra_popup As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =22

        fig_eliminar_popup_bg_9 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Visible: =popup_eliminar_extra
            Width: =1366
            ZIndex: =14

        img_eliminar_popup_2 As image:
            Height: =352
            Image: ='background-section'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =24
            RadiusBottomRight: =24
            RadiusTopLeft: =24
            RadiusTopRight: =24
            Visible: =popup_eliminar_extra
            Width: =709
            X: =327
            Y: =208
            ZIndex: =15

        lbl_eliminar_popup_titulo_2 As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Size: =18
            Text: ="ELIMINACIÓN DOCUMENTO ADICIONAL"
            Visible: =popup_eliminar_extra
            Width: =612
            X: =359
            Y: =234
            ZIndex: =16

        lbl_desea_eliminar_2 As label:
            Align: =Align.Center
            Color: =RGBA(17, 61, 107, 1)
            Height: =117
            Size: =14
            Text: |-
                ="El documento seleccionado será eliminado
                ¿Desea continuar?"
            Visible: =popup_eliminar_extra
            Width: =645
            X: =359
            Y: =314
            ZIndex: =17

        btn_eliminar_popup_2 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =Set(cargando,true);
                
                Remove(lista_doc_ext_subidos,lista_documentos_popup_extra);
                Set(num_max_doc_extra,15-CountRows(lista_doc_ext_subidos));
                'Convenio-PAEliminardocumentoconvenio'.Run(
                    nombre_documento_popup_extra
                );
                Remove(
                    id_lista_doc_ext_subidos,
                    First(
                        Filter(
                            id_lista_doc_ext_subidos,
                            Lower(ID) = Lower(lista_documentos_popup_extra.id)
                        )
                    )
                );
                
                UpdateContext({popup_eliminar_extra:false});
                Set(cargando,false);
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(popup_confirmacion,1,-1)
            Text: ="ELIMINAR"
            Visible: =popup_eliminar_extra
            X: =844
            Y: =488
            ZIndex: =18

        btn_eliminar_popup_atras_5 As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: |-
                =UpdateContext({popup_eliminar_extra:false})
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(popup_confirmacion,0,-1)
            Text: ="CANCELAR"
            Visible: =popup_eliminar_extra
            X: =652
            Y: =488
            ZIndex: =19

