Datos_contraparte_internacional As screen:
    Fill: =RGBA(235, 238, 251, 1)
    OnVisible: |-
        =Set(tab_seleccionada, 2);
        
        UpdateContext({popup_faltanombre:false});
        UpdateContext({popup_institucionnoencontrada:false});
        
        UpdateContext({sin_nombre_representante_legal_in:false});
        UpdateContext({sin_firma_in:false});
        
        UpdateContext({sin_nombre_responsable_institucional_in:false});
        UpdateContext({sin_cargo_in:false});
        UpdateContext({correo_in_invalido:false});
        UpdateContext({correo_in_vacio:false});
        UpdateContext({hide_border_correo_in:true});
        
        UpdateContext({popup_nueva_contraparte_in:false});
        //Reset(inp_contraparte_in_popup_search);;
        //Set(c_n_seleccionada;"");;
        UpdateContext({cambio_detectado:false});

    Botones_atras_siguiente_4 As groupContainer.manualLayoutContainer:
        Height: =44
        Width: =1286
        X: =40
        Y: =696
        ZIndex: =1

        Siguiente_4 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: =
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Text: ="SIGUIENTE"
            Visible: =false
            X: =1124
            Y: =2
            ZIndex: =1

        Eliminar_1 As button:
            BorderColor: =RGBA(238, 110, 126, 1)
            Color: =RGBA(238, 110, 126, 1)
            DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(238, 110, 126, 1)
            HoverColor: =RGBA(238, 110, 126, 1)
            HoverFill: =RGBA(238, 110, 126, 0.1)
            OnSelect: |
                ='Convenio-PAEliminarcontraparteregistrada'.Run(
                    "INTERNACIONAL",
                    contraparte.id
                );
                Remove(
                    contrapartes_internacionales,
                    First(
                        Filter(
                            contrapartes_internacionales,
                            Lower(nombre_entidad_contraparte) = Lower(nombre_unidad_contraparte_in_input.Text)
                        )
                    )
                );
                Back(ScreenTransition.CoverRight);
            PressedBorderColor: =RGBA(238, 110, 126, 1)
            PressedColor: =RGBA(238, 110, 126, 1)
            PressedFill: =RGBA(238, 110, 126, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =-1
            Text: ="ELIMINAR"
            Visible: =If(nueva_contraparte,false,true)
            X: =936
            Y: =2
            ZIndex: =2

        Atrás_4 As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: =Navigate(Entidad_contraparte,ScreenTransition.Fade)
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =
            Text: ="ATRÁS"
            X: =2
            Y: =2
            ZIndex: =3

        Guardar_1 As button:
            DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =//REPRESENTANTE LEGAL
                If(CountRows(Split(Trim(nombre_representante_legal_in_input.Text),""))=0, 
                        UpdateContext({sin_nombre_representante_legal_in:true}), 
                        UpdateContext({sin_nombre_representante_legal_in:false}));
                
                //RESPONSABLE INSTITUCIONAL
                If(CountRows(Split(Trim(nombre_responsable_institucional_in_input.Text),""))=0, 
                        UpdateContext({sin_nombre_responsable_institucional_in:true}), 
                        UpdateContext({sin_nombre_responsable_institucional_in:false}));
                
                If(CountRows(Split(Trim(cargo_responsable_institucional_in_input.Text),""))=0, 
                        UpdateContext({sin_cargo_in:true}), 
                        UpdateContext({sin_cargo_in:false}));
                
                If(IsMatch(TrimEnds(Lower(correo_electronico_in_input.Text)),
                "^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$") = false ,
                        UpdateContext({correo_in_invalido:true}),
                        UpdateContext({correo_in_invalido:false}) );
                
                //firma digital
                If(IsBlank(firma_digiral_in_button),UpdateContext({sin_firma_in:true}),UpdateContext({sin_firma_in:false}));
                
                If(!sin_nombre_representante_legal_in && !sin_nombre_responsable_institucional_in && !sin_cargo_in && !sin_firma_in && !correo_in_invalido,
                If(IsBlank(
                        LookUp(
                            contrapartes_internacionales, 
                            Lower(nombre_entidad_contraparte) = Lower(nombre_unidad_contraparte_in_input.Text)
                        )
                    ),
                    If(cambio_detectado,
                    Set(cargando, true);
                    If(id_estado=1,Set(id_estado,2));//pasa a contraparte registrada
                    Set(nueva_contraparte_internacional,
                    'Convenio-PAGuardarcontraparteinternacionalregistrada'.Run(
                                                        nombre_unidad_contraparte_in_input.Text,
                                                        Upper( nombre_representante_legal_in_input.Text),
                                                        Upper(nombre_responsable_institucional_in_input.Text),
                                                        Upper(cargo_responsable_institucional_in_input.Text),
                                                        pais_in_input.Text,
                                                        Upper(correo_electronico_in_input.Text),
                                                        firma_digiral_in_button.Selected.Value,
                                                        id_convenio,
                                                        id_estado
                    ));
                    Set(id_estado,nueva_contraparte_internacional.id_estado);
                    Collect(contrapartes_internacionales,{
                            nombre_entidad_contraparte: nombre_unidad_contraparte_in_input.Text,
                            nombre_representante_legal: Upper( nombre_representante_legal_in_input.Text),
                            nombre_responsable_institucional: Upper(nombre_responsable_institucional_in_input.Text),
                            cargo_responsable_institucional: Upper(cargo_responsable_institucional_in_input.Text),
                            pais: pais_in_input.Text,
                            correo_responsable_institucional: Upper(correo_electronico_in_input.Text),
                            firma_digital: firma_digiral_in_button.Selected.Value,
                            id: nueva_contraparte_internacional.id_contraparte
                    });
                    Set(cargando, false)
                    );
                    ,
                    If(cambio_detectado,
                    If(!nueva_contraparte,
                    Set(cargando, true);
                    'Convenio-PAEditarcontraparteregistrada'.Run(
                        nombre_unidad_contraparte_in_input.Text,
                        Upper(nombre_representante_legal_in_input.Text),
                        Upper(nombre_responsable_institucional_in_input.Text),
                        Upper(cargo_responsable_institucional_in_input.Text),
                        Upper(correo_electronico_in_input.Text),
                        firma_digiral_in_button.Selected.Value,
                        "INTERNACIONAL",
                        contraparte.id
                    );
                    Patch(contrapartes_internacionales,
                        LookUp(
                            contrapartes_internacionales, 
                            Lower(nombre_entidad_contraparte) = Lower(nombre_unidad_contraparte_in_input.Text)
                        ),
                        {
                            nombre_entidad_contraparte: nombre_unidad_contraparte_in_input.Text,
                            nombre_representante_legal: Upper(nombre_representante_legal_in_input.Text),
                            nombre_responsable_institucional: Upper(nombre_responsable_institucional_in_input.Text),
                            cargo_responsable_institucional: Upper(cargo_responsable_institucional_in_input.Text),
                            pais: pais_in_input.Text,
                            correo_responsable_institucional: Upper(correo_electronico_in_input.Text),
                            firma_digital: firma_digiral_in_button.Selected.Value
                        }
                    );
                    Set(cargando, false);
                    ));
                );
                Navigate(Entidad_contraparte, ScreenTransition.Fade);
                );
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =-1
            Text: ="GUARDAR"
            X: =1124
            Y: =2
            ZIndex: =4

    Datos_entidad_contraparte_in As groupContainer.manualLayoutContainer:
        Height: =584
        Width: =1366
        Y: =96
        ZIndex: =2

        Contenedor_d_e_c_in As groupContainer.manualLayoutContainer:
            Height: =488
            Width: =1282
            X: =42
            Y: =96
            ZIndex: =1

            fondo_blanco_7 As image:
                Height: =488
                Image: ='background-section'
                ImagePosition: =ImagePosition.Fill
                RadiusBottomLeft: =24
                RadiusBottomRight: =24
                RadiusTopLeft: =24
                RadiusTopRight: =24
                Width: =1282
                ZIndex: =1

            Firma_digiral_in As groupContainer.manualLayoutContainer:
                Height: =60
                Width: =301
                X: =942
                Y: =108
                ZIndex: =2

                sin_firma_in As text:
                    BorderColor: =RGBA(238, 110, 126, 1)
                    Default: =""
                    DisabledBorderColor: =RGBA(238, 110, 126, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =fondo_celeste_6.Height
                    HoverBorderColor: =RGBA(238, 110, 126, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    PaddingLeft: =5
                    RadiusBottomLeft: =13
                    RadiusBottomRight: =13
                    RadiusTopLeft: =13
                    RadiusTopRight: =13
                    TabIndex: =-1
                    Visible: =If(IsBlank(firma_digiral_in_button) && sin_firma_in,true,false)
                    Width: =299
                    X: =1
                    Y: =fondo_celeste_6.Y -1
                    ZIndex: =1

                fondo_celeste_6 As image:
                    BorderColor: =RGBA(255, 255, 255, 1)
                    Height: =40
                    HoverFill: =RGBA(186, 202, 226, 1)
                    Image: ='background-input'
                    ImagePosition: =ImagePosition.Fill
                    RadiusBottomLeft: =12
                    RadiusBottomRight: =12
                    RadiusTopLeft: =12
                    RadiusTopRight: =12
                    Visible: =false
                    Width: =169
                    Y: =20
                    ZIndex: =2

                firma_digiral_in_label As label:
                    Color: =RGBA(111, 139, 167, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =20
                    PaddingBottom: =4
                    PaddingLeft: =12
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10
                    Text: ="¿POSEE FIRMA ELECTRÓNICA AVANZADA?*"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =350
                    ZIndex: =3

                firma_digiral_in_button As radio:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    Color: =RGBA(17, 61, 107, 1)
                    Default: =If(nueva_contraparte,"",contraparte.firma_digital)
                    DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                    Height: =40
                    HoverColor: =RGBA(17, 61, 107, 1)
                    Items: =["Sí","No"]
                    Layout: =Layout.Horizontal
                    OnChange: |-
                        =UpdateContext({cambio_detectado:true})
                    PaddingBottom: =0
                    PaddingTop: =5
                    RadioBackgroundFill: =RGBA(0, 0, 0, 0)
                    RadioBorderColor: =RGBA(17, 61, 107, 1)
                    RadioSelectionFill: =RGBA(17, 61, 107, 1)
                    RadioSize: =30
                    Width: =170
                    Y: =20
                    ZIndex: =4

            Promotor_unidad_solicitante_in As groupContainer.manualLayoutContainer:
                Height: =88
                Width: =1230
                X: =40
                Y: =192
                ZIndex: =3

                correo_electronico_in As groupContainer.manualLayoutContainer:
                    Height: =88
                    Width: =300
                    X: =900
                    ZIndex: =1

                    sin_correo_in As text:
                        BorderColor: =RGBA(238, 110, 126, 1)
                        BorderThickness: =4
                        Default: =""
                        DisabledBorderColor: =RGBA(238, 110, 126, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        DisplayMode: =DisplayMode.Disabled
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =correo_electronico_in_input.Height
                        HoverBorderColor: =RGBA(238, 110, 126, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =13
                        RadiusBottomRight: =13
                        RadiusTopLeft: =13
                        RadiusTopRight: =13
                        TabIndex: =-1
                        Visible: |-
                            =If((IsMatch(TrimEnds(Lower(correo_electronico_in_input.Text)),
                            "^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$") = false 
                            && correo_in_invalido)
                            ,true,false)
                        Width: =290
                        X: =2
                        Y: =correo_electronico_in_input.Y 
                        ZIndex: =1

                    correo_electronico_in_input As text:
                        BorderColor: =RGBA(255, 0, 0, 1)
                        BorderThickness: =0
                        Color: =RGBA(17, 61, 107, 1)
                        Default: =If(nueva_contraparte,contraparte_in.correo_responsable_institucional,contraparte.correo_responsable_institucional)
                        DisabledColor: =RGBA(111, 139, 167, 1)
                        DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                        Fill: =RGBA(241, 244, 255, 1)
                        FocusedBorderThickness: =0
                        Height: =39
                        HintText: =""
                        HoverBorderColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =RGBA(241, 244, 255, 1)
                        MaxLength: =60
                        OnChange: |-
                            =UpdateContext({hide_border_correo_in:false});
                            UpdateContext({cambio_detectado:true})
                        PaddingBottom: =12
                        PaddingLeft: =24
                        PaddingRight: =24
                        PaddingTop: =12
                        RadiusBottomLeft: =12
                        RadiusBottomRight: =12
                        RadiusTopLeft: =12
                        RadiusTopRight: =12
                        Size: =14
                        TabIndex: =
                        Width: =290
                        X: =2
                        Y: =19
                        ZIndex: =2

                    correo_electronico_in_label As label:
                        Color: =RGBA(111, 139, 167, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =20
                        PaddingBottom: =4
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10
                        Text: ="CORREO ELECTRÓNICO*"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =230
                        ZIndex: =3

                Cargo_responsable_institucional_in As groupContainer.manualLayoutContainer:
                    Height: =88
                    Width: =439
                    X: =443
                    ZIndex: =3

                    sin_cargo_in As text:
                        BorderColor: =RGBA(238, 110, 126, 1)
                        Default: =""
                        DisabledBorderColor: =RGBA(238, 110, 126, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        DisplayMode: =DisplayMode.Disabled
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =41
                        HoverBorderColor: =RGBA(238, 110, 126, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =13
                        RadiusBottomRight: =13
                        RadiusTopLeft: =13
                        RadiusTopRight: =13
                        TabIndex: =-1
                        Visible: =If((Len(cargo_responsable_institucional_in_input.Text)=0 || CountRows(Split(Trim(cargo_responsable_institucional_in_input.Text),""))=0) && sin_cargo_in,true,false)
                        Width: =424
                        X: =4
                        Y: =cargo_responsable_institucional_na_input.Y
                        ZIndex: =1

                    cargo_responsable_institucional_in_input As text:
                        BorderColor: =RGBA(255, 255, 255, 1)
                        BorderThickness: =0
                        Color: =RGBA(17, 61, 107, 1)
                        Default: =If(nueva_contraparte,contraparte_in.cargo_responsable_institucional,contraparte.cargo_responsable_institucional)
                        DisabledColor: =RGBA(111, 139, 167, 1)
                        DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                        Fill: =RGBA(241, 244, 255, 1)
                        FocusedBorderThickness: =0
                        Height: =38
                        HintText: =""
                        HoverBorderColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =RGBA(241, 244, 255, 1)
                        MaxLength: =60
                        OnChange: |-
                            =UpdateContext({cambio_detectado:true})
                        PaddingBottom: =12
                        PaddingLeft: =24
                        PaddingRight: =24
                        PaddingTop: =12
                        RadiusBottomLeft: =12
                        RadiusBottomRight: =12
                        RadiusTopLeft: =12
                        RadiusTopRight: =12
                        Size: =14
                        TabIndex: =
                        Width: =422
                        X: =5
                        Y: =22
                        ZIndex: =2

                    cargo_responsable_institucional_in_label As label:
                        Color: =RGBA(111, 139, 167, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =20
                        PaddingBottom: =4
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10
                        Text: ="CARGO*"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =230
                        ZIndex: =3

                Nombre_responsable_institucional_in As groupContainer.manualLayoutContainer:
                    Height: =88
                    Width: =427
                    X: =4
                    ZIndex: =4

                    sin_nombre_responsable_institucional_in As text:
                        BorderColor: =RGBA(238, 110, 126, 1)
                        Default: =""
                        DisabledBorderColor: =RGBA(238, 110, 126, 1)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        DisplayMode: =DisplayMode.Disabled
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =41
                        HoverBorderColor: =RGBA(238, 110, 126, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =12
                        RadiusBottomRight: =12
                        RadiusTopLeft: =12
                        RadiusTopRight: =12
                        TabIndex: =-1
                        Visible: |
                            =If((Len(nombre_responsable_institucional_in_input.Text)=0 || CountRows(Split(Trim(nombre_responsable_institucional_in_input.Text),""))=0)&& sin_nombre_responsable_institucional_in,true,false)
                        Width: =422
                        X: =1
                        Y: =21
                        ZIndex: =1

                    nombre_responsable_institucional_in_input As text:
                        BorderColor: =RGBA(255, 255, 255, 1)
                        BorderThickness: =0
                        Color: =RGBA(17, 61, 107, 1)
                        Default: =If(nueva_contraparte,contraparte_in.nombre_responsable_institucional,contraparte.nombre_responsable_institucional)
                        DisabledColor: =RGBA(111, 139, 167, 1)
                        DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                        Fill: =RGBA(241, 244, 255, 1)
                        FocusedBorderThickness: =0
                        Height: =38
                        HintText: =""
                        HoverBorderColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =RGBA(241, 244, 255, 1)
                        MaxLength: =60
                        OnChange: |-
                            =UpdateContext({cambio_detectado:true})
                        PaddingBottom: =12
                        PaddingLeft: =24
                        PaddingRight: =24
                        RadiusBottomLeft: =12
                        RadiusBottomRight: =12
                        RadiusTopLeft: =12
                        RadiusTopRight: =12
                        Size: =14
                        TabIndex: =
                        Width: =422
                        X: =1
                        Y: =22
                        ZIndex: =2

                    nombre_responsable_institucional_in_label As label:
                        Color: =RGBA(111, 139, 167, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =20
                        PaddingBottom: =4
                        PaddingLeft: =12
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10
                        Text: ="NOMBRE RESPONSABLE INSTITUCIONAL*"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =418
                        ZIndex: =3

            Nombre_representante_legal_in As groupContainer.manualLayoutContainer:
                Height: =70
                Width: =881
                X: =42
                Y: =108
                ZIndex: =4

                sin_nombre_representante_legal_in As text:
                    BorderColor: =RGBA(238, 110, 126, 1)
                    Default: =""
                    DisabledBorderColor: =RGBA(238, 110, 126, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: |
                        =nombre_representante_legal_in_input.Height+4
                    HoverBorderColor: =RGBA(238, 110, 126, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    RadiusBottomLeft: =12
                    RadiusBottomRight: =12
                    RadiusTopLeft: =12
                    RadiusTopRight: =12
                    TabIndex: =-1
                    Visible: =If((Len(nombre_representante_legal_in_input.Text)=0 || CountRows(Split(Trim(nombre_representante_legal_in_input.Text),""))=0) && sin_nombre_representante_legal_in,true,false)
                    Width: =868
                    X: =2
                    Y: =24
                    ZIndex: =1

                nombre_representante_legal_in_input As text:
                    BorderColor: =RGBA(255, 255, 255, 1)
                    BorderThickness: =0
                    Color: =RGBA(17, 61, 107, 1)
                    Default: =If(nueva_contraparte,contraparte_in.nombre_representante_legal,contraparte.nombre_representante_legal)
                    DisabledColor: =RGBA(111, 139, 167, 1)
                    DisplayMode: =If(id_estado=13,DisplayMode.Disabled,DisplayMode.Edit)
                    Fill: =RGBA(241, 244, 255, 1)
                    FocusedBorderThickness: =0
                    Height: =35
                    HintText: =""
                    HoverBorderColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =RGBA(241, 244, 255, 1)
                    MaxLength: =60
                    OnChange: |-
                        =UpdateContext({cambio_detectado:true})
                    PaddingBottom: =12
                    PaddingLeft: =24
                    PaddingRight: =24
                    PaddingTop: =12
                    RadiusBottomLeft: =12
                    RadiusBottomRight: =12
                    RadiusTopLeft: =12
                    RadiusTopRight: =12
                    Size: =14
                    TabIndex: =
                    Width: =865
                    X: =3
                    Y: =25
                    ZIndex: =2

                nombre_representante_legal_in_label As label:
                    Color: =RGBA(111, 139, 167, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =20
                    PaddingBottom: =4
                    PaddingLeft: =12
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10
                    Text: ="NOMBRE REPRESENTANTE LEGAL*"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =300
                    ZIndex: =3

            pais_in As groupContainer.manualLayoutContainer:
                Height: =60
                Width: =300
                X: =942
                Y: =24
                ZIndex: =5

                pais_in_input As text:
                    BorderColor: =RGBA(255, 255, 255, 1)
                    BorderThickness: =0
                    Color: =RGBA(17, 61, 107, 1)
                    Default: =If(nueva_contraparte,contraparte_in.pais,contraparte.pais)
                    DisabledColor: =RGBA(111, 139, 167, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(241, 244, 255, 1)
                    FocusedBorderThickness: =0
                    HintText: =""
                    HoverBorderColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =RGBA(241, 244, 255, 1)
                    MaxLength: =60
                    PaddingBottom: =12
                    PaddingLeft: =24
                    PaddingRight: =24
                    PaddingTop: =12
                    RadiusBottomLeft: =12
                    RadiusBottomRight: =12
                    RadiusTopLeft: =12
                    RadiusTopRight: =12
                    Size: =14
                    TabIndex: =
                    Width: =300
                    Y: =20
                    ZIndex: =1

                pais_in_label As label:
                    Color: =RGBA(111, 139, 167, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =20
                    PaddingBottom: =4
                    PaddingLeft: =12
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10
                    Text: ="PAÍS"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =230
                    ZIndex: =2

            Nombre_unidad_contraparte_in As groupContainer.manualLayoutContainer:
                Height: =60
                Width: =871
                X: =42
                Y: =24
                ZIndex: =6

                nombre_unidad_contraparte_in_input As text:
                    BorderColor: =RGBA(255, 255, 255, 1)
                    BorderThickness: =0
                    Color: =RGBA(17, 61, 107, 1)
                    Default: =If(nueva_contraparte,contraparte_in.nombre_entidad_contraparte,contraparte.nombre_entidad_contraparte)
                    DisabledColor: =RGBA(111, 139, 167, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(241, 244, 255, 1)
                    FocusedBorderThickness: =0
                    HintText: =""
                    HoverBorderColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =RGBA(241, 244, 255, 1)
                    MaxLength: =150
                    PaddingBottom: =12
                    PaddingLeft: =24
                    PaddingRight: =24
                    PaddingTop: =12
                    RadiusBottomLeft: =12
                    RadiusBottomRight: =12
                    RadiusTopLeft: =12
                    RadiusTopRight: =12
                    Size: =14
                    TabIndex: =
                    Width: =871
                    Y: =20
                    ZIndex: =1

                nombre_unidad_contraparte_in_label As label:
                    Color: =RGBA(111, 139, 167, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =20
                    PaddingBottom: =4
                    PaddingLeft: =12
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10
                    Text: ="NOMBRE ENTIDAD CONTRAPARTE"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =300
                    ZIndex: =2

        datos_entidad_contraparte_in As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Height: =96
            PaddingBottom: =34
            PaddingLeft: =42
            PaddingRight: =0
            PaddingTop: =42
            Size: =20
            Text: ="Datos entidad contraparte internacional"
            Width: =1366
            ZIndex: =3

    lbl_falta_correo_1 As label:
        Align: =Align.Right
        Color: =RGBA(238, 110, 126, 1)
        FontWeight: =FontWeight.Bold
        Height: =70
        Size: =9
        Text: ="Ingrese una dirección de correo válida."
        Visible: |-
            =/*If((IsMatch(TrimEnds(Lower(correo_electronico_in_input.Text));
            "^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$") = false 
            && correo_in_vacio) 
            ;true;false)*/
        Width: =676
        X: =608
        Y: =424
        ZIndex: =3

    lbl_faltan_datos_3 As label:
        Align: =Align.Right
        Color: =RGBA(238, 110, 126, 1)
        FontWeight: =FontWeight.Bold
        Height: =20
        PaddingRight: =90
        Size: =11
        Text: ="Debe completar los campos faltantes."
        Visible: |-
            =If((sin_nombre_representante_legal_in || sin_nombre_responsable_institucional_in || sin_cargo_in || correo_in_invalido) && 
            
            (Len(nombre_representante_legal_in_input.Text)=0 || CountRows(Split(Trim(nombre_representante_legal_in_input.Text),""))=0 || 
            Len(nombre_responsable_institucional_in_input.Text)=0 || CountRows(Split(Trim(nombre_responsable_institucional_in_input.Text),""))=0 || 
            Len(cargo_responsable_institucional_in_input.Text)=0 || CountRows(Split(Trim(cargo_responsable_institucional_in_input.Text),""))=0 || 
            (IsMatch(TrimEnds(Lower(correo_electronico_in_input.Text)),
            "^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$") = false 
            || correo_in_vacio) || 
            IsBlank(firma_digiral_in_button)), true)
        Width: =600
        X: =766
        Y: =657
        ZIndex: =4

    BannerUdeC_4 As HeaderUdeC:
        Bienvenido: =If(persona_solicitante.sexo_social="F","Bienvenida,","Bienvenido,")
        Subtitulo: ="VINCULACIÓN CON EL MEDIO"
        Titulo: ="Solicitud de Tramitación de Convenios"
        ZIndex: =5

    lbl_campo_obligatorio_3 As label:
        Color: =RGBA(17, 61, 107, 1)
        FontWeight: =FontWeight.Semibold
        Height: =20
        PaddingLeft: =45
        Size: =11
        Text: ="*Campos obligatorios."
        Width: =500
        X: =42
        Y: =657
        ZIndex: =6

    contraparte_internacional_popup As groupContainer.manualLayoutContainer:
        Height: =Unidad_solicitante.Height
        Visible: =popup_contraparte_in
        Width: =Unidad_solicitante.Width
        ZIndex: =7

        fig_registro_5_popup_bg_3 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Width: =1366
            ZIndex: =1

        fondo_blanco_8 As image:
            Height: =352
            Image: ='background-section'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =24
            RadiusBottomRight: =24
            RadiusTopLeft: =24
            RadiusTopRight: =24
            Width: =709
            X: =328
            Y: =208
            ZIndex: =2

        lbl_contraparte_in_popup_titulo As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Size: =18
            Text: ="Búsqueda de contraparte internacional"
            Width: =650
            X: =360
            Y: =234
            ZIndex: =3

        inp_contraparte_in_popup_search As text:
            BorderColor: =RGBA(255, 255, 255, 1)
            BorderThickness: =0
            Color: =RGBA(17, 61, 107, 1)
            Default: |-
                =//""
                If(desplegar_buscador_c_in,"",n_c_in_seleccionada)
            DisabledColor: =RGBA(111, 139, 167, 1)
            Fill: =RGBA(241, 244, 255, 1)
            Height: =46
            HintText: ="Ingresar nombre institución"
            HoverBorderColor: =RGBA(255, 255, 255, 1)
            HoverFill: =RGBA(241, 244, 255, 1)
            OnSelect: |-
                =Reset(inp_contraparte_in_popup_search);
                Reset(opciones_nombre_c_in);
                Set(n_c_in_seleccionada,"");
                If(desplegar_buscador_c_in,UpdateContext({desplegar_buscador_c_in:false}),UpdateContext({desplegar_buscador_c_in:true}))
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Width: =645
            X: =360
            Y: =353
            ZIndex: =4

        buscar_5 As image:
            Height: =20
            Image: =ico_search
            Visible: =false
            Width: =20
            X: =970
            Y: =366
            ZIndex: =5

        lbl_contraparte_in_popup_rut As label:
            Color: =RGBA(111, 139, 167, 1)
            FontWeight: =FontWeight.Bold
            Size: =10
            Text: ="NOMBRE INSTITUCIÓN"
            Width: =250
            X: =360
            Y: =314
            ZIndex: =6

        btn_contraparte_in_popup_buscar As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |
                =UpdateContext({popup_faltanombre:false, popup_institucionnoencontrada:false});
                Set(popup_in_ya_ingresada,false);
                
                If(IsBlank(inp_contraparte_in_popup_search.Text)=false,
                
                //
                If(!IsBlank(
                        LookUp(
                            contrapartes_internacionales, 
                            Lower(nombre_entidad_contraparte) = Lower(inp_contraparte_in_popup_search.Text)
                        )
                    ),
                    //mostrar error
                    Set(popup_in_ya_ingresada,true)
                ,    
                
                //
                
                    Set(cargando, true);
                    Set(datos_contraparte, 'DTI-PATraerinstitucióninternacional'.Run(inp_contraparte_in_popup_search.Text));
                    Set(contraparte_in,{
                        nombre_entidad_contraparte: First(datos_contraparte).razon_social,
                        //rut_entidad_contraparte: First(datos_contraparte).rut;
                        //dv_entidad_contraparte: First(datos_contraparte).dv;
                        nombre_representante_legal: "",
                        nombre_responsable_institucional:"",
                        cargo_responsable_institucional:"",
                        pais:Upper(First(datos_contraparte).pais),
                        correo_responsable_institucional:"",
                        id: First(datos_contraparte).id
                    });
                    Set(cargando, false);
                    If(IsBlank(contraparte_in.nombre_entidad_contraparte),
                        UpdateContext({popup_institucionnoencontrada:true}),
                        Set(popup_contraparte_in,false)
                    )
                );
                    ,
                    UpdateContext({popup_faltanombre:true})
                )
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Text: ="ACEPTAR"
            X: =845
            Y: =488
            ZIndex: =7

        btn_contraparte_in_popup_cancelar As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: =Navigate(Entidad_contraparte,ScreenTransition.Fade)
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            Text: ="CANCELAR"
            X: =653
            Y: =488
            ZIndex: =8

        lbl_contraparte_in_popup_noencontrado As label:
            Align: =Align.Center
            Color: =RGBA(238, 110, 126, 1)
            FontWeight: =FontWeight.Bold
            Size: =11
            Text: ="Institución no encontrada. Por favor intente nuevamente"
            Visible: =popup_institucionnoencontrada
            Width: =481
            X: =(fondo_blanco_8.X+fondo_blanco_8.Width/2)-Self.Width/2
            Y: =418
            ZIndex: =9

        lbl_contraparte_in_popup_faltandatos As label:
            Align: =Align.Center
            Color: =RGBA(238, 110, 126, 1)
            FontWeight: =FontWeight.Bold
            Size: =11
            Text: ="Ingresar nombre institución"
            Visible: =popup_faltanombre
            Width: =540
            X: =(fondo_blanco_8.X+fondo_blanco_8.Width/2)-Self.Width/2
            Y: =418
            ZIndex: =10

        btn_registro_10_politica_2 As button:
            OnSelect: |-
                =Set(nueva_solicitud_contraparte,true);
                Set(id_contraparte,Blank());
                Clear(lista_doc_contr_subidos);
                Set(contraparte_s,{
                    nombre:"",
                    pais: "",
                    file: ""
                });
                
                Navigate(Datos_solicitud_contraparte_internacional,ScreenTransition.Fade);
                
                Reset(pais);
                Reset(att_attach_doc_sin);
                Reset(nombre_solicitud_unidad_contraparte_in_input);
            Size: =14
            Text: ="SOLICITAR CONTRAPARTE"
            Width: =260
            X: =360
            Y: =488
            ZIndex: =11

        lbl_contraparte_in_existente_popup As label:
            Align: =Align.Center
            Color: =RGBA(238, 110, 126, 1)
            FontWeight: =FontWeight.Bold
            Size: =11
            Text: ="Institución ya registrada"
            Visible: =popup_in_ya_ingresada
            Width: =540
            X: =(fondo_blanco_8.X+fondo_blanco_8.Width/2)-Self.Width/2
            Y: =418
            ZIndex: =12

        Contenedor_o_n_c_in As groupContainer.manualLayoutContainer:
            Visible: =desplegar_buscador_c_in
            Width: =620
            X: =370
            Y: =397
            ZIndex: =13

            opciones_nombre_c_in As gallery.galleryVertical:
                DelayItemLoading: =true
                Height: =200
                Items: =Filter(Nombres_contrapartes_internacionales, inp_contraparte_in_popup_search.Text in nombre)
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                OnSelect: |
                    =false
                TemplatePadding: =0
                TemplateSize: =50
                Width: =620
                WrapCount: =0
                ZIndex: =1

                fondo_celeste_4 As image:
                    BorderColor: =RGBA(255, 255, 255, 1)
                    Height: =51
                    HoverFill: =RGBA(186, 202, 226, 1)
                    Image: ='background-input'
                    ImagePosition: =ImagePosition.Fill
                    Width: =620
                    ZIndex: =1

                Label1 As label:
                    Color: =RGBA(17, 61, 107, 1)
                    DisabledFill: =RGBA(241, 244, 255, 1)
                    Height: =51
                    HoverColor: =RGBA(17, 61, 107, 1)
                    HoverFill: =RGBA(207, 210, 232, 1)
                    OnSelect: |-
                        =Select(Parent);
                        If(desplegar_buscador_c_in,UpdateContext({desplegar_buscador_c_in:false}),UpdateContext({desplegar_buscador_c_in:true}));
                        Set(n_c_in_seleccionada,ThisItem.nombre);
                    PaddingBottom: =0
                    PaddingLeft: =12
                    PaddingRight: =10
                    PaddingTop: =0
                    Size: =14
                    Text: =ThisItem.nombre
                    Width: =599
                    ZIndex: =3

    cont_loading_2 As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =8

        fig_registro_5_bg_2 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Visible: =cargando
            Width: =1366
            ZIndex: =8

        img_loading_2 As image:
            Image: =loading
            Visible: =cargando
            X: =633
            Y: =334
            ZIndex: =9

