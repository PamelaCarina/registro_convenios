Entidad_contraparte As screen:
    Fill: =RGBA(235, 238, 251, 1)
    OnVisible: |-
        =UpdateContext({tab_seleccionada:1});
        UpdateContext({sin_contraparte:false})

    Botones_atras_siguiente_2 As groupContainer.manualLayoutContainer:
        Height: =44
        Width: =1286
        X: =40
        Y: =696
        ZIndex: =1

        Siguiente_2 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =If(Value(tipo_alcance.Selected.id)=2,
                    //si es nacional
                        If(CountRows(contrapartes_nacionales)>0,
                            //si es nacional y existen contrapartes nacionales
                            Set(entidades_contraparte_na_cargadas,{
                                nacionales:{
                                    cantidad: CountRows(contrapartes_nacionales),
                                    contrapartes: contrapartes_nacionales
                                }
                            });
                            Set(entidades_contraparte_in_cargadas,{
                                internacionales:{
                                    cantidad: 0,
                                    contrapartes: contrapartes_internacionales
                                }
                            });
                            UpdateContext({sin_contraparte:false});
                        ,
                            //si es nacional y no existen contrapartes nacionales
                            Set(entidades_contraparte_na_cargadas,{
                            nacionales:{
                                cantidad: 0,
                                contrapartes: contrapartes_nacionales
                            }
                            });
                            Set(entidades_contraparte_in_cargadas,{
                                internacionales:{
                                    cantidad: 0,
                                    contrapartes: contrapartes_internacionales
                                }
                            });
                            UpdateContext({sin_contraparte:true});
                        )
                    ,
                    //si no es nacional, es internacional
                        If(CountRows(contrapartes_nacionales)>0 || CountRows(contrapartes_internacionales)>0,
                            //si es internacional y existe alguna contraparte
                            Set(entidades_contraparte_na_cargadas,{
                                nacionales:{
                                    cantidad: CountRows(contrapartes_nacionales),
                                    contrapartes: contrapartes_nacionales
                                }
                            });
                            Set(entidades_contraparte_in_cargadas,{
                                internacionales:{
                                    cantidad: CountRows(contrapartes_internacionales),
                                    contrapartes: contrapartes_internacionales
                                }
                            });
                            UpdateContext({sin_contraparte:false});
                        ,
                            //si es internacional y no existen contrapartes
                            Set(entidades_contraparte_na_cargadas,{
                            nacionales:{
                                cantidad: 0,
                                contrapartes: contrapartes_nacionales
                            }
                            });
                            Set(entidades_contraparte_in_cargadas,{
                                internacionales:{
                                    cantidad: 0,
                                    contrapartes: contrapartes_internacionales
                                }
                            });
                            UpdateContext({sin_contraparte:true});
                        )
                );
                
                If(CountRows(Filter(solicitudes_añadir_contraparte, "En espera" in estado))=0,
                        UpdateContext({contrapartes_por_revisar:false}),UpdateContext({contrapartes_por_revisar:true}));
                
                If(!sin_contraparte,
                
                    Set(cargando, true);
                
                    If(id_estado=1,Set(id_estado,2));//pasa a contraparte registrada
                    
                    /*
                    Set(id_estado;'DTI-PAGuardarcontrapartesregistradas'.Run(
                                                                JSON(entidades_contraparte_na_cargadas);
                                                                JSON(entidades_contraparte_in_cargadas);
                                                                id_convenio;
                                                                id_estado                                                
                    ).id_estado);;
                    */
                    If(id_estado>=9 && primera_vez_especificacion_convenio,
                        Set(especificacion_convenio_recuperada,'DTI-PATraerestadosolicitudporpantalla'.Run(
                                                                id_convenio,
                                                                "9"//necesito especificacion registrada
                        ).especificacion_registrada);
                
                        ForAll(especificacion_convenio_recuperada.borrador_convenio,
                            Collect(borrador_convenio_recuperado,{
                                file:{
                                    Name: Name,
                                    Value: Value
                                }
                            })
                        );
                        //Set(borrador_convenio_recuperado;especificacion_convenio_recuperada.borrador_convenio);;
                        Set(documentacion_extra_recuperada,especificacion_convenio_recuperada.documentos_extra);
                        
                /*
                        ForAll(especificacion_convenio_recuperada;
                        
                            Collect(solicitudes_añadir_contraparte;{
                                id_contraparte: id;
                                nombre: nombre;
                                pais: pais;
                                estado: estado;
                                file: file
                            })
                            */
                        //);;
                
                        Set(primera_vez_especificacion_convenio,false);
                    );
                
                
                    Set(cargando, false);
                
                    If(!contrapartes_por_revisar,Navigate(Datos_convenio,ScreenTransition.Fade));
                    
                );
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Text: ="SIGUIENTE"
            Visible: |-
                =//If(CountRows(solicitudes_añadir_contraparte)=0;true) 
                true
            X: =1124
            Y: =2
            ZIndex: =1

        Atrás_2 As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: =Navigate(Unidad_solicitante,ScreenTransition.Fade)
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =
            Text: ="ATRÁS"
            X: =2
            Y: =2
            ZIndex: =2

        enviar As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |
                =UpdateContext({sin_contraparte:false});
                
                If(Value(tipo_alcance.Selected.id)=2,
                    //si es nacional
                    If(CountRows(contrapartes_nacionales)>0,
                        //si es nacional y existen contrapartes nacionales
                        Set(entidades_contraparte_na_cargadas,{
                            nacionales:{
                                cantidad: CountRows(contrapartes_nacionales),
                                contrapartes: contrapartes_nacionales
                            }
                        });
                        Set(entidades_contraparte_in_cargadas,{
                            internacionales:{
                                cantidad: 0,
                                contrapartes: contrapartes_internacionales
                            }
                        })
                        ,
                        //si es nacional y no existen contrapartes nacionales
                        Set(entidades_contraparte_na_cargadas,{
                            nacionales:{
                                cantidad: 0,
                                contrapartes: contrapartes_nacionales
                            }
                        });
                        Set(entidades_contraparte_in_cargadas,{
                            internacionales:{
                                cantidad: 0,
                                contrapartes: contrapartes_internacionales
                            }
                        })
                    )
                    ,
                    //si no es nacional, es internacional
                    If(CountRows(contrapartes_nacionales)>0 || CountRows(contrapartes_internacionales)>0,
                        //si es internacional y existe alguna contraparte
                        Set(entidades_contraparte_na_cargadas,{
                            nacionales:{
                                cantidad: CountRows(contrapartes_nacionales),
                                contrapartes: contrapartes_nacionales
                            }
                        });
                        Set(entidades_contraparte_in_cargadas,{
                            internacionales:{
                                cantidad: CountRows(contrapartes_internacionales),
                                contrapartes: contrapartes_internacionales
                            }
                        })
                        ,
                        //si es internacional y no existen contrapartes
                        Set(entidades_contraparte_na_cargadas,{
                            nacionales:{
                                cantidad: 0,
                                contrapartes: contrapartes_nacionales
                            }
                        });
                        Set(entidades_contraparte_in_cargadas,{
                            internacionales:{
                                cantidad: 0,
                                contrapartes: contrapartes_internacionales
                            }
                        })
                    )
                );
                /*
                Clear(doc_solicitud);;
                Clear(info_solicitud);;
                
                ForAll(solicitudes_añadir_contraparte;
                    Collect(doc_solicitud;{
                        doc: doc
                    });;
                   
                    Collect(info_solicitud;{
                        info:{
                            nombre:nombre;
                            rut: rut;
                            dv: dv;
                            pais: pais;
                            tipo: tipo
                        }
                    });;    
                );;
                
                Set(popup_confirmacion;true);;
                
                Set(num_doc_contraparte;CountRows(doc_solicitud));;
                */
                /*
                Set(doc_contraparte;{
                        file:{//doc1
                            name: First(Index(doc_solicitud;1).doc).Name;
                            contentBytes: First(Index(doc_solicitud;1).doc).Value
                        };
                        file_1:{//doc2
                            name: If(num_doc_contraparte>=2;First(Index(doc_solicitud;2).doc).Name) ;
                            contentBytes: If(num_doc_contraparte>=2;First(Index(doc_solicitud;1).doc).Value)
                        };
                        file_2:{//doc3
                            name: If(num_doc_contraparte>=3;First(Index(doc_solicitud;3).doc).Name) ;
                            contentBytes: If(num_doc_contraparte>=3;First(Index(doc_solicitud;3).doc).Value)
                        };
                        file_3:{//doc4
                            name: If(num_doc_contraparte>=4;First(Index(doc_solicitud;4).doc).Name) ;
                            contentBytes: If(num_doc_contraparte>=4;First(Index(doc_solicitud;4).doc).Value)
                        };
                        file_4:{//doc5
                            name: If(num_doc_contraparte>=5;First(Index(doc_solicitud;5).doc).Name) ;
                            contentBytes: If(num_doc_contraparte>=5;First(Index(doc_solicitud;5).doc).Value)
                        }
                });;*/
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =1
            Text: ="ENVIAR"
            Visible: =//If(CountRows(solicitudes_añadir_contraparte)>0;true)
            X: =1126
            Y: =2
            ZIndex: =3

    Entidades_contraparte As groupContainer.manualLayoutContainer:
        Height: =584
        Width: =1366
        Y: =96
        ZIndex: =2

        Contenedor_e_c As groupContainer.manualLayoutContainer:
            Height: =488
            Width: =1282
            X: =42
            Y: =96
            ZIndex: =1

            fondo_blanco_5 As image:
                Height: =488
                Image: ='background-section'
                ImagePosition: =ImagePosition.Fill
                RadiusBottomLeft: =24
                RadiusBottomRight: =24
                RadiusTopLeft: =24
                RadiusTopRight: =24
                Width: =1282
                ZIndex: =1

            cont_solicitudes As groupContainer.manualLayoutContainer:
                Height: =313
                Visible: =tab_seleccionada=3
                Width: =1198
                X: =42
                Y: =82
                ZIndex: =2

                "gal_solicitudes As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
                    FocusedBorderThickness: =0
                    Height: =283
                    Items: =solicitudes_añadir_contraparte
                    Layout: =Layout.Vertical
                    TabIndex: =1
                    TemplatePadding: =0
                    TemplateSize: =140
                    Width: =1198
                    ZIndex: =1

                    img_contraparte_2 As image:
                        Height: =80
                        Image: ='logo-udec'
                        ImagePosition: =ImagePosition.Fill
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =200
                        RadiusBottomRight: =200
                        RadiusTopLeft: =200
                        RadiusTopRight: =200
                        Width: =0
                        X: =16
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =1

                    lbl_solicitada_detalle As label:
                        Color: =RGBA(17, 61, 107, 1)
                        Height: =70
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =16
                        Text: =ThisItem.pais
                        VerticalAlign: =VerticalAlign.Top
                        Width: =lbl_solicitada_nombre.Width
                        X: =20
                        Y: =70
                        ZIndex: =2

                    lbl_solicitada_nombre As label:
                        Color: =RGBA(17, 61, 107, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =70
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =ThisItem.nombre
                        VerticalAlign: =VerticalAlign.Bottom
                        Width: =Parent.TemplateWidth - img_contraparte_2.Width - 104
                        X: =20
                        Y: =4
                        ZIndex: =3

                    fig_solicitada_arrow As rectangle:
                        Fill: =RGBA(112, 139, 166, 1)
                        Height: =1
                        OnSelect: =Select(Parent)
                        Width: =1198
                        Y: =Parent.TemplateHeight - 1
                        ZIndex: =4

                    img_arrow_solicitada As image:
                        Height: =25
                        Image: =ico_arrow
                        OnSelect: |-
                            =Select(Parent);
                            Set(reset_externo, false);
                            //Navigate(Registro_Actividad_6)
                        Visible: =false
                        Width: =14
                        X: =1150
                        Y: =60
                        ZIndex: =5

                    btn_detalle_solicitada As button:
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =0
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =140
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        OnSelect: |
                            =Select(Parent);
                            
                            Set(nueva_solicitud_contraparte,false);
                            Set(contraparte, ThisItem);
                            //If(ThisItem.tipo="NACIONAL";
                            //    Reset(att_attach_doc_sna);;
                            //    Navigate(Datos_solicitud_contraparte_nacional;ScreenTransition.Fade)
                            //    ;
                                Reset(att_attach_doc_sin);
                                Navigate(Datos_solicitud_contraparte_internacional,ScreenTransition.Fade)
                            //);;
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        PressedBorderColor: =RGBA(0, 0, 0, 0)
                        PressedColor: =RGBA(0, 0, 0, 0)
                        PressedFill: =RGBA(0, 0, 0, 0)
                        TabIndex: =2
                        Text: =""
                        Visible: =false
                        Width: =14
                        X: =1150
                        ZIndex: =6

                    lbl_estado_solic_cin As label:
                        Align: =Align.Right
                        Color: =RGBA(17, 61, 107, 1)
                        Size: =16
                        Text: =ThisItem.estado
                        Width: =188
                        X: =930
                        Y: =52
                        ZIndex: =7

                    lbl_solicitada_file As label:
                        Color: =RGBA(17, 61, 107, 1)
                        OnSelect: =
                        PaddingLeft: =40
                        Size: =16
                        Text: =ThisItem.file.Name
                        Visible: =If(IsBlank(ThisItem.file.Name),false,true)
                        Width: =220
                        Wrap: =false
                        X: =757
                        Y: =52
                        ZIndex: =8

                    Icon2 As icon.Document:
                        Color: =RGBA(17, 61, 107, 1)
                        Height: =26
                        Icon: =Icon.Document
                        OnSelect: =Select(Parent)
                        Visible: =If(IsBlank(ThisItem.file.Name),false,true)
                        Width: =34
                        X: =757
                        Y: =61
                        ZIndex: =9

                    Icon1_1 As icon.Trash:
                        Color: =RGBA(17, 61, 107, 1)
                        Height: =34
                        Icon: =Icon.Cancel
                        OnSelect: |-
                            ='DTI-PABorrarcontrapartenoregistrada'.Run(ThisItem.id_contraparte);
                            Remove(solicitudes_añadir_contraparte,ThisItem)
                        Width: =47
                        X: =1133
                        Y: =55
                        ZIndex: =10

                    btn_buscar_promotor_2 As button:
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =1
                        Fill: =RGBA(0, 0, 0, 0)
                        FontWeight: =FontWeight.Normal
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverFill: =RGBA(207, 210, 232, 0.4)
                        OnSelect: =Launch(ThisItem.file.Value)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        PressedColor: =RGBA(255, 255, 255, 1)
                        PressedFill: =RGBA(207, 210, 232, 0.4)
                        RadiusBottomLeft: =50
                        RadiusBottomRight: =50
                        RadiusTopLeft: =50
                        RadiusTopRight: =50
                        Size: =20
                        TabIndex: =
                        Text: =""
                        Visible: =If(IsBlank(ThisItem.file.Name),false,true)
                        Width: =248
                        X: =743
                        Y: =54
                        ZIndex: =11

            cont_contraparte_internacional As groupContainer.manualLayoutContainer:
                Height: =313
                Visible: =tab_seleccionada=2
                Width: =1198
                X: =42
                Y: =82
                ZIndex: =3

                "gal_contraparte_internacional As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
                    FocusedBorderThickness: =0
                    Height: =283
                    Items: =contrapartes_internacionales
                    Layout: =Layout.Vertical
                    TabIndex: =1
                    TemplatePadding: =0
                    TemplateSize: =140
                    Width: =1198
                    ZIndex: =1

                    img_contraparte_1 As image:
                        Height: =80
                        Image: ='logo-udec'
                        ImagePosition: =ImagePosition.Fill
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =200
                        RadiusBottomRight: =200
                        RadiusTopLeft: =200
                        RadiusTopRight: =200
                        Width: =0
                        X: =16
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =1

                    lbl_contraparte_nacional_rut_1 As label:
                        Color: =RGBA(17, 61, 107, 1)
                        Height: =70
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =16
                        Text: =ThisItem.pais
                        VerticalAlign: =VerticalAlign.Top
                        Width: =590
                        X: =20
                        Y: =70
                        ZIndex: =2

                    lbl_contraparte_nacional_nombre_1 As label:
                        Color: =RGBA(17, 61, 107, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =70
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =ThisItem.nombre_entidad_contraparte
                        VerticalAlign: =VerticalAlign.Bottom
                        Width: =777
                        X: =20
                        Y: =4
                        ZIndex: =3

                    fig_contraparte_arrow_1 As rectangle:
                        Fill: =RGBA(112, 139, 166, 1)
                        Height: =1
                        OnSelect: =Select(Parent)
                        Width: =1198
                        Y: =Parent.TemplateHeight - 1
                        ZIndex: =4

                    img_arrow_contraparte_nacional_1 As image:
                        Height: =25
                        Image: =ico_arrow
                        OnSelect: |-
                            =Select(Parent);
                            Set(reset_externo, false);
                            //Navigate(Registro_Actividad_6)
                        Width: =14
                        X: =1150
                        Y: =60
                        ZIndex: =5

                    btn_detalle_contraparte_nacional_1 As button:
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =0
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =140
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        OnSelect: |-
                            =Select(Parent);
                            Set(contraparte, ThisItem);
                            Set(popup_contraparte_in,false);
                            Set(contraparte_in, {});
                            Set(nueva_contraparte,false);
                            Navigate(Datos_contraparte_internacional,ScreenTransition.Fade)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        PressedBorderColor: =RGBA(0, 0, 0, 0)
                        PressedColor: =RGBA(0, 0, 0, 0)
                        PressedFill: =RGBA(0, 0, 0, 0)
                        TabIndex: =2
                        Text: =""
                        Width: =14
                        X: =1150
                        ZIndex: =6

                    lbl_contraparte_nacional_firma_1 As label:
                        Align: =Align.Right
                        Color: =RGBA(17, 61, 107, 1)
                        Size: =16
                        Text: =If(ThisItem.firma_digital="Sí", "Con firma digital", "Sin firma digital")
                        Width: =188
                        X: =930
                        Y: =52
                        ZIndex: =7

            cont_contraparte_nacional As groupContainer.manualLayoutContainer:
                Height: =313
                Visible: =tab_seleccionada=1
                Width: =1198
                X: =42
                Y: =82
                ZIndex: =4

                "gal_contraparte_nacional As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
                    FocusedBorderThickness: =0
                    Height: =283
                    Items: =contrapartes_nacionales
                    Layout: =Layout.Vertical
                    OnSelect: =
                    TabIndex: =1
                    TemplatePadding: =0
                    TemplateSize: =140
                    Width: =1198
                    ZIndex: =1

                    img_contraparte As image:
                        Height: =80
                        Image: ='logo-udec'
                        ImagePosition: =ImagePosition.Fill
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =200
                        RadiusBottomRight: =200
                        RadiusTopLeft: =200
                        RadiusTopRight: =200
                        Width: =0
                        X: =16
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =1

                    lbl_contraparte_nacional_rut As label:
                        Color: =RGBA(17, 61, 107, 1)
                        Height: =70
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =16
                        Text: =Concatenate(ThisItem.rut_entidad_contraparte,"-",ThisItem.dv_entidad_contraparte)
                        VerticalAlign: =VerticalAlign.Top
                        Width: =916
                        X: =20
                        Y: =70
                        ZIndex: =2

                    lbl_contraparte_nacional_nombre As label:
                        Color: =RGBA(17, 61, 107, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =70
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =ThisItem.nombre_entidad_contraparte
                        VerticalAlign: =VerticalAlign.Bottom
                        Width: =Parent.TemplateWidth - img_contraparte.Width - 104
                        X: =20
                        Y: =4
                        ZIndex: =3

                    fig_contraparte_arrow As rectangle:
                        Fill: =RGBA(112, 139, 166, 1)
                        Height: =1
                        OnSelect: =Select(Parent)
                        Width: =1198
                        Y: =Parent.TemplateHeight - 1
                        ZIndex: =4

                    img_arrow_contraparte_nacional As image:
                        Height: =25
                        Image: =ico_arrow
                        OnSelect: |-
                            =Select(Parent);
                            Set(reset_externo, false);
                            //Navigate(Registro_Actividad_6)
                        Width: =14
                        X: =1150
                        Y: =60
                        ZIndex: =5

                    btn_detalle_contraparte_nacional As button:
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =0
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =140
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        OnSelect: |-
                            =Select(Parent);
                            Set(contraparte, ThisItem);
                            Set(popup_contraparte_na,false);
                            Set(contraparte_na, {});
                            Set(nueva_contraparte,false);
                            Navigate(Datos_contraparte_nacional,ScreenTransition.Fade)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        PressedBorderColor: =RGBA(0, 0, 0, 0)
                        PressedColor: =RGBA(0, 0, 0, 0)
                        PressedFill: =RGBA(0, 0, 0, 0)
                        TabIndex: =2
                        Text: =""
                        Width: =14
                        X: =1150
                        ZIndex: =6

                    lbl_contraparte_nacional_firma As label:
                        Align: =Align.Right
                        Color: =RGBA(17, 61, 107, 1)
                        Size: =16
                        Text: =If(ThisItem.firma_digital="Sí", "Con firma digital", "Sin firma digital")
                        Width: =188
                        X: =930
                        Y: =52
                        ZIndex: =7

            cont_vacio_solicitudes As groupContainer.manualLayoutContainer:
                Height: =313
                Visible: =CountRows(solicitudes_añadir_contraparte)=0 && tab_seleccionada=3
                Width: =1198
                X: =42
                Y: =82
                ZIndex: =5

                Image1_3 As image:
                    Height: =200
                    Image: =vacio
                    Width: =200
                    X: =40
                    Y: =57
                    ZIndex: =1

                no_solicitud_contraparte_lb As label:
                    Color: =RGBA(159, 156, 183, 1)
                    Height: =60
                    Size: =16
                    Text: ="No encontramos ninguna solicitud de añadir contraparte asociada"
                    Width: =370
                    X: =284
                    Y: =155
                    ZIndex: =2

                sin_solicirudes_contraparte_lb As label:
                    Color: =RGBA(17, 61, 107, 0.6)
                    FontWeight: =FontWeight.Semibold
                    Height: =43
                    Size: =23
                    Text: ="Sin solicitudes de añadir contraparte"
                    Width: =600
                    X: =284
                    Y: =112
                    ZIndex: =3

            cont_vacio_na As groupContainer.manualLayoutContainer:
                Height: =313
                Visible: =CountRows(contrapartes_nacionales)=0 && tab_seleccionada=1
                Width: =1198
                X: =42
                Y: =82
                ZIndex: =6

                Image1 As image:
                    Height: =200
                    Image: =vacio
                    Width: =200
                    X: =40
                    Y: =57
                    ZIndex: =1

                no_contraparte_na_lb As label:
                    Color: =RGBA(159, 156, 183, 1)
                    Height: =60
                    Size: =16
                    Text: ="No encontramos ninguna contraparte nacional asociada"
                    Width: =370
                    X: =284
                    Y: =155
                    ZIndex: =2

                sin_contraparte_na_lb As label:
                    Color: =RGBA(17, 61, 107, 0.6)
                    FontWeight: =FontWeight.Semibold
                    Height: =43
                    Size: =23
                    Text: ="Sin contraparte nacional"
                    Width: =500
                    X: =284
                    Y: =112
                    ZIndex: =3

            cont_vacio_in As groupContainer.manualLayoutContainer:
                Height: =313
                Visible: =CountRows(contrapartes_internacionales)=0 && tab_seleccionada=2
                Width: =1198
                X: =42
                Y: =82
                ZIndex: =7

                Image1_1 As image:
                    Height: =200
                    Image: =vacio
                    Width: =200
                    X: =40
                    Y: =57
                    ZIndex: =1

                no_contraparte_in_lb As label:
                    Color: =RGBA(159, 156, 183, 1)
                    Height: =60
                    Size: =16
                    Text: ="No encontramos ninguna contraparte internacional asociada"
                    Width: =370
                    X: =284
                    Y: =155
                    ZIndex: =2

                sin_contraparte_in_lb As label:
                    Color: =RGBA(17, 61, 107, 0.6)
                    FontWeight: =FontWeight.Semibold
                    Height: =43
                    Size: =23
                    Text: ="Sin contraparte internacional"
                    Width: =500
                    X: =284
                    Y: =112
                    ZIndex: =3

            "gal_tabs As gallery.'BrowseLayout_Horizontal_TwoTextOneImageVariant_ver4.0'":
                Height: =45
                Items: |-
                    =If(tipo_alcance.Selected.valor="Convenio nacional",//solicitudes_añadir_contraparte
                        Table({id:1,nombre: "Nacional"},{id:3,nombre: Concatenate("Solicitadas (",CountRows(solicitudes_añadir_contraparte),"/5)")}),
                        Table({id:1,nombre: "Nacional"},{id:2,nombre:"Internacional"},{id:3,nombre: Concatenate("Solicitadas (",CountRows(solicitudes_añadir_contraparte),"/5)")})
                    )
                    /*
                    Table({id:1;nombre: "Nacional"};{id:3;nombre: "Solicitadas"});
                        Table({id:1;nombre: "Nacional"};{id:2;nombre:"Internacional"};{id:3;nombre: "Solicitadas"})
                    */
                TemplateSize: =180
                Width: =1198
                X: =40
                Y: |
                    =37
                ZIndex: =8

                Button1 As button:
                    BorderThickness: =0
                    Color: |-
                        =If(tab_seleccionada=ThisItem.id,RGBA(255,255,255,1),ColorValue("#6F8BA7"))
                    Fill: |-
                        =If(tab_seleccionada=ThisItem.id,ColorValue("#F79E40"),ColorValue("#EBEEFB"))
                    FontWeight: =FontWeight.Normal
                    HoverBorderColor: =Self.BorderColor
                    HoverColor: =Self.Color
                    HoverFill: =Self.Fill
                    OnSelect: |-
                        =UpdateContext({tab_seleccionada: ThisItem.id})
                    PaddingBottom: =0
                    PaddingTop: =0
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    Size: =14
                    Text: =ThisItem.nombre
                    Width: =180
                    ZIndex: =4

            icon_tabs_contenido_separador As icon.HorizontalLine:
                BorderColor: |-
                    =ColorValue("#F79E40")
                Color: |-
                    =ColorValue("#F79E40")
                DisabledBorderColor: |-
                    =ColorValue("#F79E40")
                Fill: |-
                    =ColorValue("#F79E40")
                FocusedBorderColor: |-
                    =ColorValue("#F79E40")
                FocusedBorderThickness: =0
                Height: =1
                HoverBorderColor: |-
                    =ColorValue("#F79E40")
                HoverColor: |-
                    =ColorValue("#F79E40")
                Icon: =Icon.HorizontalLine
                PressedBorderColor: |-
                    =ColorValue("#F79E40")
                PressedColor: |-
                    =ColorValue("#F79E40")
                Width: =gal_tabs.Width-5
                X: =gal_tabs.X+5
                Y: =gal_tabs.Y+gal_tabs.Height
                ZIndex: =9

            btn_registro_4_e_agregar As button:
                BorderStyle: =BorderStyle.None
                BorderThickness: =1
                Fill: =RGBA(139, 195, 74, 1)
                FontWeight: =FontWeight.Bold
                Height: =42
                HoverBorderColor: =RGBA(139, 195, 74, 1)
                HoverFill: =RGBA(139, 195, 74, 0.4)
                OnSelect: |
                    =Set(contraparte, {});
                    If(tab_seleccionada=1,
                        Navigate(Datos_contraparte_nacional,ScreenTransition.Fade);
                        Set(contraparte_na, {});
                        Set(popup_contraparte_na,true);
                        Set(nueva_contraparte,true);
                        Reset(firma_digiral_na_button);
                    );
                    If(tab_seleccionada=2,
                        Navigate(Datos_contraparte_internacional, ScreenTransition.Fade);
                        Set(contraparte_in, {});
                        Set(popup_contraparte_in,true);
                        Set(nueva_contraparte,true);
                        Set(n_c_in_seleccionada,"");
                        Reset(firma_digiral_in_button);
                    );
                    
                    If(tab_seleccionada=3,
                        Set(nueva_solicitud_contraparte,true);
                        Set(contraparte_s,{
                            nombre:"",
                            rut: "",
                            dv: "",
                            pais: "",
                            tipo: "",
                            doc: ""
                        });
                    //    Reset(att_attach_doc_sna);;
                    //    Navigate(Datos_solicitud_contraparte_nacional;ScreenTransition.Fade);;
                    );
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =RGBA(95, 160, 20, 1)
                RadiusBottomLeft: =50
                RadiusBottomRight: =50
                RadiusTopLeft: =50
                RadiusTopRight: =50
                Size: =20
                TabIndex: =
                Text: ="+"
                Visible: |-
                    =//true
                    If(tab_seleccionada=3,false,true)
                Width: =42
                X: =1195
                Y: =412
                ZIndex: =10

        entidades_contraparte As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Height: =96
            PaddingBottom: =34
            PaddingLeft: =42
            PaddingRight: =0
            PaddingTop: =42
            Size: =20
            Text: ="Entidades contraparte de la Universidad de Concepción"
            Width: =1366
            ZIndex: =3

    lbl_faltan_datos_13 As label:
        Align: =Align.Right
        Color: =RGBA(238, 110, 126, 1)
        FontWeight: =FontWeight.Bold
        Height: =72
        Text: ="Debe ingresar al menos una contraparte."
        Visible: =sin_contraparte
        Width: =856
        X: =278
        Y: =684
        ZIndex: =3

    BannerUdeC_2 As HeaderUdeC:
        Bienvenido: =If(persona_solicitante.sexo_social="F","Bienvenida,","Bienvenido,")
        Subtitulo: ="VINCULACIÓN CON EL MEDIO"
        Titulo: ="Solicitud de Tramitación de Convenios"
        ZIndex: =7

    lbl_contrapartes_por_revisar As label:
        Align: =Align.Right
        Color: =RGBA(238, 110, 126, 1)
        FontWeight: =FontWeight.Bold
        Height: =72
        Text: ="No puede continuar con solicitudes de contraparte en revisión"
        Visible: =contrapartes_por_revisar
        Width: =856
        X: =278
        Y: =684
        ZIndex: =9

    grp_registro_5_popup_2 As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =11

        fig_registro_5_popup_bg_6 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Visible: =popup_confirmacion
            Width: =1366
            ZIndex: =4

        img_registro_5_popup_bg_2 As image:
            Height: =352
            Image: ='background-section'
            ImagePosition: =ImagePosition.Fill
            RadiusBottomLeft: =24
            RadiusBottomRight: =24
            RadiusTopLeft: =24
            RadiusTopRight: =24
            Visible: =popup_confirmacion
            Width: =709
            X: =327
            Y: =208
            ZIndex: =5

        lbl_registro_popup_5_titulo_2 As label:
            Color: =RGBA(17, 61, 107, 1)
            FontWeight: =FontWeight.Bold
            Size: =18
            Text: ="Confirmación solicitud de nueva contraparte"
            Visible: =popup_confirmacion
            Width: =560
            X: =359
            Y: =234
            ZIndex: =6

        lbl_registro_popup_5_correo_2 As label:
            Align: =Align.Center
            Color: =RGBA(17, 61, 107, 1)
            Height: =117
            Size: =14
            Text: ="Su solicitud será ingresada y no podrá ser modificada."
            Visible: =popup_confirmacion
            Width: =645
            X: =359
            Y: =314
            ZIndex: =8

        btn_registro_5_popup_enviar_1 As button:
            BorderThickness: =1
            Fill: =RGBA(247, 158, 64, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.4)
            OnSelect: |-
                =Set(cargando,true);
                
                If(id_estado=1 || id_estado=2,Set(id_estado,4));//pasa a Contraparte internacional solicitada
                
                /*
                Set(id_estado;'DTI-PAGuardarcontrapartesregistradas'.Run(
                                                            JSON(entidades_contraparte_na_cargadas);
                                                            JSON(entidades_contraparte_in_cargadas);
                                                            id_convenio;
                                                            id_estado                                            
                ).id_estado);;
                */
                
                Set(cargando,false);
                Set(popup_confirmacion,false);
                UpdateContext({popup_done:true});
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =RGBA(249, 133, 11, 1)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(popup_confirmacion,1,-1)
            Text: ="ENVIAR"
            Visible: =popup_confirmacion
            X: =844
            Y: =488
            ZIndex: =10

        btn_registro_5_popup_atras_2 As button:
            BorderColor: =RGBA(247, 158, 64, 1)
            Color: =RGBA(247, 158, 64, 1)
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =RGBA(247, 158, 64, 1)
            HoverColor: =RGBA(247, 158, 64, 1)
            HoverFill: =RGBA(247, 158, 64, 0.1)
            OnSelect: =Set(popup_confirmacion, false)
            PressedBorderColor: =RGBA(247, 158, 64, 1)
            PressedColor: =RGBA(247, 158, 64, 1)
            PressedFill: =RGBA(247, 158, 64, 0.3)
            RadiusBottomLeft: =12
            RadiusBottomRight: =12
            RadiusTopLeft: =12
            RadiusTopRight: =12
            Size: =14
            TabIndex: =If(popup_confirmacion,0,-1)
            Text: ="CANCELAR"
            Visible: =popup_confirmacion
            X: =652
            Y: =488
            ZIndex: =11

    cont_loading_4 As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =13

        fig_registro_5_bg_4 As rectangle:
            BorderStyle: =BorderStyle.None
            Fill: =RGBA(0, 0, 0, 0.20)
            Height: =768
            Visible: =cargando
            Width: =1366
            ZIndex: =12

        img_loading_4 As image:
            Image: =loading
            Visible: =cargando
            X: =632
            Y: =323
            ZIndex: =13

